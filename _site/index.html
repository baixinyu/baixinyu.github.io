<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="爱生活 爱小小白">
    <meta name="keywords" content=""/>
    <meta name="author" content="Pidong Li"> 
    <link rel="canonical" href="http://cangfengzhe.github.com/index.html">
    <link href="http://cangfengzhe.github.io/rss.xml" title="RSS 2.0" type="application/rss+xml" rel="alternate"/>
    <link href="/img/favicon.ico" rel="icon" type="image/x-icon">
    <title>爱生活 爱小小白</title>
    <link rel="stylesheet" href="/css/min/pure-min.css">
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/min/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/css/min/grids-responsive-min.css">
    <!--<![endif]-->

    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/JekyllPure-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/css/JekyllPure.css">
    <!--<![endif]-->

    <link href="/css/min/font-awesome.min.css" rel="stylesheet">
	<!-- <link href="/js/googleprettify/prettify.css" rel="stylesheet"> -->
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/min/font-awesome-ie7.min.css">
    <![endif]-->
    <script src="/js/min/jquery-1.7.2.min.js"></script>
<link rel="stylesheet" href="/js/styles/railscasts.css">


    <!--
     /\_ \    __                         /\ \                __
     \//\ \  /\_\  __  __    ___   __  __\ \ \___      __   /\_\
       \ \ \ \/\ \/\ \/\ \  / __`\/\ \/\ \\ \  _ `\  /'__`\ \/\ \
        \_\ \_\ \ \ \ \_\ \/\ \L\ \ \ \_\ \\ \ \ \ \/\ \L\.\_\ \ \
        /\____\\ \_\/`____ \ \____/\ \____/ \ \_\ \_\ \__/.\_\\ \_\
        \/____/ \/_/`/___/> \/___/  \/___/   \/_/\/_/\/__/\/_/ \/_/
                       /\___/
                       \/__/
     图像可以到http://asciigen.com/  生成..记得翻墙才能正常生成.如不方便可以博客留言我帮你生成
     -->
</head>

<body>







<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <div class="headerpic">
                <a href="/">
                    <img src="/img/lovexinyu.png" alt="Profile Picture" style="width: 140px;" title="返回首页">
                </a>
            </div>
            <h2 class="brand-title" style='margin:5px 0;'>爱生活 爱小小白</h2>
            <h3 class="brand-tagline">静能寒窗苦守，动能点石成金</h3>

            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="pure-button" href="/Timing">时间轴</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="pure-button" href="/type">分  类</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="/tag">标  签</a>
                    </li>
             <!--        <li class="nav-item">
                 <a class="pure-button" href="/type">收  藏</a>
                                 </li> -->
                </ul>
            </nav>
            <div class="search">
                <form action="/search">
                    <input type="text" class="search-query" placeholder="Search Blog" name="query" title="全站搜索-只支持英文">
                </form>
            </div>
            <div id="toc"></div>
            <nav id="nav">
                <ul class="nav-list">
                    <!-- <li class="nav-link">
                    <a class="weibo "  href="http://weibo.com/localhost0000" ><i class="fa fa-weibo fa-2x"></i></a>
                    </li> -->
                    <li class="nav-link">
                    <a class="github" href="https://github.com/cangfengzhe"><i class="fa fa-github fa-2x"></i></a>
                    </li>
                    
                    
                     <li class="nav-link">
                    <a class="rss" href="/rss.xml" ><i class="fa fa-rss fa-2x"></i></a>
                    </li>
					<p style='margin:0 0;padding:0 0;text-align:left;'>E-mail: hope-dream@163.com</p>
                </ul>
            </nav>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4" style='padding-left:0'>
      
        <div>
            <div class="posts" >

                

<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="">

            <h4 class="post-title" style=''><a style='' href="/project/git-use.html">git 简短笔记</a></h4>

            <p class="post-meta">By 05月10日  2015  
        <!--     <a
                    class="post-categorybut " href="/type/#project">project</a><a
                    class="post-category " > </a><a
                    class="post-category " >  </a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#project">project</a><!-- <a
            class="post-category " href="/tag/#"> </a><a
            class="post-category " href="/tag/#">  </a> -->

            
            </p>
        </header>

        <div class="post-description" >
            <!-- <h2>git status</h2>

<p>目前的状态， 修改（modified）， 删除（deleted）</p>

<h2>git add 操作之前恢复</h2>

<p>git check -- <filename> 恢复特定文件
git check -- . 恢复全部文件</p>

<h2>git add</h2>

<p>git add filename 添加单个文件
git add . 或者 git add -A 添加全部修改的文件</p>

<h2>git add 操作之后恢复文件</h2>
 内容 -->


            <!-- <a href="/project/git-use.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>



<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="http://cangfengzhe.github.io/img/">

            <h4 class="post-title" style=''><a style='' href="/statistics/statistics.html">R语言与统计笔记</a></h4>

            <p class="post-meta">By 05月01日  2015  
        <!--     <a
                    class="post-categorybut " href="/type/#statistics">statistics</a><a
                    class="post-category " > R</a><a
                    class="post-category " >  函数</a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#statistics">statistics</a><!-- <a
            class="post-category " href="/tag/#R"> R</a><a
            class="post-category " href="/tag/#函数">  函数</a> -->

            
           <a  class="post-category " title='标签' href="/tag/#R ">R</a>
    
           <a  class="post-category " title='标签' href="/tag/#函数 ">函数</a>
    
           <a  class="post-category " title='标签' href="/tag/#统计 ">统计</a>
    
            </p>
        </header>

        <div class="post-description" >
            <!-- <h2>正态性检验</h2>

<h3>Shapiro-Wilk Normality Test</h3>

<p>样本量在3-5000时使用
<code>shapiro.test(x)</code>
x a numeric vector of data values. Missing values are allowed, but the number of non-missing values must be between 3 and 5000.</p>

<pre><code>## 
## shpr.t&gt; shapiro.test(rnorm(100, mean = 5, sd = 3))
## 
##  Shapiro-Wilk normality test
## 
## data:  rnorm(100, mean = 5, sd = 3)
## W = 0.9832, p-value = 0.235
## 
## 
## shpr.t&gt; shapiro.test(runif(100, min = 2, max = 4))
## 
##  Shapiro-Wilk normality test
## 
## data:  runif(100, min = 2, max = 4)
## W = 0.951, p-value = 0.0009664
</code></pre>

<h3>Kolmogorov-Smirnov Tests</h3>

<p>统计量大于5000时采用
<code>r
ks.test(x, y, ...,
        alternative = c("two.sided", "less", "greater"),
        exact = NULL)
</code>
此函数用于检测x是否与y为相同分布，可以把y定义为正态分布来检测x时候为正态分布。
x表示待检测的样本数据，必须为数值型向量
y可以是数值型向量，也可以是字符型 分布的累计分布函数pnorm，pgamma</p>

<pre><code class="r">example("ks.test")
</code></pre>

<pre><code>## 
## ks.tst&gt; require(graphics)
## 
## ks.tst&gt; x &lt;- rnorm(50)
## 
## ks.tst&gt; y &lt;- runif(30)
## 
## ks.tst&gt; # Do x and y come from the same distribution?
## ks.tst&gt; ks.test(x, y)
## 
##  Two-sample Kolmogorov-Smirnov test
## 
## data:  x and y
## D = 0.44, p-value = 0.0009116
## alternative hypothesis: two-sided
## 
## 
## ks.tst&gt; # Does x come from a shifted gamma distribution with shape 3 and rate 2?
## ks.tst&gt; ks.test(x+2, "pgamma", 3, 2) # two-sided, exact
## 
##  One-sample Kolmogorov-Smirnov test
## 
## data:  x + 2
## D = 0.3566, p-value = 3.376e-06
## alternative hypothesis: two-sided
## 
## 
## ks.tst&gt; ks.test(x+2, "pgamma", 3, 2, exact = FALSE)
## 
##  One-sample Kolmogorov-Smirnov test
## 
## data:  x + 2
## D = 0.3566, p-value = 5.983e-06
## alternative hypothesis: two-sided
## 
## 
## ks.tst&gt; ks.test(x+2, "pgamma", 3, 2, alternative = "gr")
## 
##  One-sample Kolmogorov-Smirnov test
## 
## data:  x + 2
## D^+ = 0.0673, p-value = 0.6088
## alternative hypothesis: the CDF of x lies above the null hypothesis
## 
## 
## ks.tst&gt; # test if x is stochastically larger than x2
## ks.tst&gt; x2 &lt;- rnorm(50, -1)
## 
## ks.tst&gt; plot(ecdf(x), xlim = range(c(x, x2)))
</code></pre>

<p><img src="figure/unnamed-chunk-2-1.png" alt="plot of chunk unnamed-chunk-2" /></p>

<pre><code>## 
## ks.tst&gt; plot(ecdf(x2), add = TRUE, lty = "dashed")
## 
## ks.tst&gt; t.test(x, x2, alternative = "g")
## 
##  Welch Two Sample t-test
## 
## data:  x and x2
## t = 5.2277, df = 97.997, p-value = 4.853e-07
## alternative hypothesis: true difference in means is greater than 0
## 95 percent confidence interval:
##  0.6910036       Inf
## sample estimates:
##   mean of x   mean of y 
##  0.02719708 -0.98547305 
## 
## 
## ks.tst&gt; wilcox.test(x, x2, alternative = "g")
## 
##  Wilcoxon rank sum test with continuity correction
## 
## data:  x and x2
## W = 1930, p-value = 1.404e-06
## alternative hypothesis: true location shift is greater than 0
## 
## 
## ks.tst&gt; ks.test(x, x2, alternative = "l")
## 
##  Two-sample Kolmogorov-Smirnov test
## 
## data:  x and x2
## D^- = 0.44, p-value = 6.252e-05
## alternative hypothesis: the CDF of x lies below that of y
</code></pre>

<h2>两样本检验</h2>

<h3>参数检验</h3>

<h3>当样本符合正态分布时，采用参数检验。</h3>

<h4>未完待续</h4>

<h3>compile tool</h3>

<pre><code class="r">library(knitr)
knit('/Users/lipidong/baiduyun/work/RFile/MarkDown/statistics.Rmd', output = '~/learn/blog/_posts/2015-05-1-statistics.md')
</code></pre>
 内容 -->


            <!-- <a href="/statistics/statistics.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>



<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="http://cangfengzhe.github.io/img/">

            <h4 class="post-title" style=''><a style='' href="/r/funSet.html">R语言常用函数集合</a></h4>

            <p class="post-meta">By 05月01日  2015  
        <!--     <a
                    class="post-categorybut " href="/type/#r">r</a><a
                    class="post-category " > R</a><a
                    class="post-category " >  函数</a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#r">r</a><!-- <a
            class="post-category " href="/tag/#R"> R</a><a
            class="post-category " href="/tag/#函数">  函数</a> -->

            
           <a  class="post-category " title='标签' href="/tag/#R ">R</a>
    
           <a  class="post-category " title='标签' href="/tag/#函数 ">函数</a>
    
            </p>
        </header>

        <div class="post-description" >
            <!-- <h3>melt</h3>

<pre><code class="r">melt(data, id.vars, measure.vars,
  variable.name = "variable", ..., na.rm = FALSE, value.name = "value",
  factorsAsStrings = TRUE)
</code></pre>

<p>id.vars 表示固定不变的列
measure.vars 控制变量,需要处理的列，将这些列名作为某一列的数值
variable.name 重塑后控制变量的列名
value.name 重塑后数值变量的列名</p>

<blockquote><p>如果data为matrix格式，则不执行上述标准，变成行列的对应值</p></blockquote>

<pre><code>## 
## melt&gt; set.seed(45)
## 
## melt&gt; require(reshape2)
## 
## melt&gt; require(data.table)
## 
## melt&gt; DT &lt;- data.table(
## melt+       i1 = c(1:5, NA), 
## melt+       i2 = c(NA,6,7,8,9,10), 
## melt+       f1 = factor(sample(c(letters[1:3], NA), 6, TRUE)), 
## melt+       c1 = sample(c(letters[1:3], NA), 6, TRUE), 
## melt+       d1 = as.Date(c(1:3,NA,4:5), origin="2013-09-01"), 
## melt+       d2 = as.Date(6:1, origin="2012-01-01"))
## 
## melt&gt; DT[, l1 := DT[, list(c=list(rep(i1, sample(5,1)))), by = i1]$c] # list cols
##    i1 i2 f1 c1         d1         d2        l1
## 1:  1 NA  c  a 2013-09-02 2012-01-07       1,1
## 2:  2  6  b  c 2013-09-03 2012-01-06     2,2,2
## 3:  3  7  a  a 2013-09-04 2012-01-05     3,3,3
## 4:  4  8  b  a       &lt;NA&gt; 2012-01-04     4,4,4
## 5:  5  9  b  b 2013-09-05 2012-01-03 5,5,5,5,5
## 6: NA 10  b NA 2013-09-06 2012-01-02        NA
## 
## melt&gt; DT[, l2 := DT[, list(c=list(rep(c1, sample(5,1)))), by = i1]$c]
##    i1 i2 f1 c1         d1         d2        l1          l2
## 1:  1 NA  c  a 2013-09-02 2012-01-07       1,1       a,a,a
## 2:  2  6  b  c 2013-09-03 2012-01-06     2,2,2         c,c
## 3:  3  7  a  a 2013-09-04 2012-01-05     3,3,3           a
## 4:  4  8  b  a       &lt;NA&gt; 2012-01-04     4,4,4         a,a
## 5:  5  9  b  b 2013-09-05 2012-01-03 5,5,5,5,5       b,b,b
## 6: NA 10  b NA 2013-09-06 2012-01-02        NA NA,NA,NA,NA
## 
## melt&gt; # basic examples
## melt&gt; melt(DT, id=1:2, measure=3) 
##    i1 i2 variable value
## 1:  1 NA       f1     c
## 2:  2  6       f1     b
## 3:  3  7       f1     a
## 4:  4  8       f1     b
## 5:  5  9       f1     b
## 6: NA 10       f1     b
## 
## melt&gt; melt(DT, id=c("i1", "i2"), measure="f1", value.factor=TRUE) # same as above, but value is factor
##    i1 i2 variable value
## 1:  1 NA       f1     c
## 2:  2  6       f1     b
## 3:  3  7       f1     a
## 4:  4  8       f1     b
## 5:  5  9       f1     b
## 6: NA 10       f1     b
## 
## melt&gt; # on Date
## melt&gt; melt(DT, id=c("i1", "f1"), measure=c("d1", "d2")) # date class attribute lost
##     i1 f1 variable value
##  1:  1  c       d1 15950
##  2:  2  b       d1 15951
##  3:  3  a       d1 15952
##  4:  4  b       d1    NA
##  5:  5  b       d1 15953
##  6: NA  b       d1 15954
##  7:  1  c       d2 15346
##  8:  2  b       d2 15345
##  9:  3  a       d2 15344
## 10:  4  b       d2 15343
## 11:  5  b       d2 15342
## 12: NA  b       d2 15341
## 
## melt&gt; melt(DT, id=c("i1", "f1"), measure=c("c1", "d1")) # value is char, date attribute lost
</code></pre>

<pre><code>## Warning in melt.data.table(DT, id = c("i1", "f1"), measure = c("c1",
## "d1")): All 'measure.vars are NOT of the SAME type. By order of hierarchy,
## the molten data value column will be of type 'character'. Therefore all
## measure variables that are not of type 'character' will be coerced to.
## Check the DETAILS section of ?melt.data.table for more on coercion.
</code></pre>

<pre><code>##     i1 f1 variable value
##  1:  1  c       c1     a
##  2:  2  b       c1     c
##  3:  3  a       c1     a
##  4:  4  b       c1     a
##  5:  5  b       c1     b
##  6: NA  b       c1    NA
##  7:  1  c       d1 15950
##  8:  2  b       d1 15951
##  9:  3  a       d1 15952
## 10:  4  b       d1    NA
## 11:  5  b       d1 15953
## 12: NA  b       d1 15954
## 
## melt&gt; # on list
## melt&gt; melt(DT, id=1, measure=c("l1", "l2")) # value is a list
##     i1 variable       value
##  1:  1       l1         1,1
##  2:  2       l1       2,2,2
##  3:  3       l1       3,3,3
##  4:  4       l1       4,4,4
##  5:  5       l1   5,5,5,5,5
##  6: NA       l1          NA
##  7:  1       l2       a,a,a
##  8:  2       l2         c,c
##  9:  3       l2           a
## 10:  4       l2         a,a
## 11:  5       l2       b,b,b
## 12: NA       l2 NA,NA,NA,NA
## 
## melt&gt; melt(DT, id=1, measure=c("c1", "l1")) # c1 coerced to list
</code></pre>

<pre><code>## Warning in melt.data.table(DT, id = 1, measure = c("c1", "l1")): All
## 'measure.vars are NOT of the SAME type. By order of hierarchy, the molten
## data value column will be of type 'list'. Therefore all measure variables
## that are not of type 'list' will be coerced to. Check the DETAILS section
## of ?melt.data.table for more on coercion.
</code></pre>

<pre><code>##     i1 variable     value
##  1:  1       c1         a
##  2:  2       c1         c
##  3:  3       c1         a
##  4:  4       c1         a
##  5:  5       c1         b
##  6: NA       c1        NA
##  7:  1       l1       1,1
##  8:  2       l1     2,2,2
##  9:  3       l1     3,3,3
## 10:  4       l1     4,4,4
## 11:  5       l1 5,5,5,5,5
## 12: NA       l1        NA
## 
## melt&gt; # on character
## melt&gt; melt(DT, id=1, measure=c("c1", "f1")) # value is char
##     i1 variable value
##  1:  1       c1     a
##  2:  2       c1     c
##  3:  3       c1     a
##  4:  4       c1     a
##  5:  5       c1     b
##  6: NA       c1    NA
##  7:  1       f1     c
##  8:  2       f1     b
##  9:  3       f1     a
## 10:  4       f1     b
## 11:  5       f1     b
## 12: NA       f1     b
## 
## melt&gt; melt(DT, id=1, measure=c("c1", "i2")) # i2 coerced to char
</code></pre>

<pre><code>## Warning in melt.data.table(DT, id = 1, measure = c("c1", "i2")): All
## 'measure.vars are NOT of the SAME type. By order of hierarchy, the molten
## data value column will be of type 'character'. Therefore all measure
## variables that are not of type 'character' will be coerced to. Check the
## DETAILS section of ?melt.data.table for more on coercion.
</code></pre>

<pre><code>##     i1 variable value
##  1:  1       c1     a
##  2:  2       c1     c
##  3:  3       c1     a
##  4:  4       c1     a
##  5:  5       c1     b
##  6: NA       c1    NA
##  7:  1       i2    NA
##  8:  2       i2     6
##  9:  3       i2     7
## 10:  4       i2     8
## 11:  5       i2     9
## 12: NA       i2    10
## 
## melt&gt; # on na.rm=TRUE
## melt&gt; melt(DT, id=1, measure=c("c1", "i2"), na.rm=TRUE) # remove NA
</code></pre>

<pre><code>## Warning in melt.data.table(DT, id = 1, measure = c("c1", "i2"), na.rm =
## TRUE): All 'measure.vars are NOT of the SAME type. By order of hierarchy,
## the molten data value column will be of type 'character'. Therefore all
## measure variables that are not of type 'character' will be coerced to.
## Check the DETAILS section of ?melt.data.table for more on coercion.
</code></pre>

<pre><code>##     i1 variable value
##  1:  1       c1     a
##  2:  2       c1     c
##  3:  3       c1     a
##  4:  4       c1     a
##  5:  5       c1     b
##  6:  2       i2     6
##  7:  3       i2     7
##  8:  4       i2     8
##  9:  5       i2     9
## 10: NA       i2    10
</code></pre>

<h3>cast</h3>

<pre><code class="r">dcast(data, formula, fun.aggregate = NULL, ..., margins = NULL,
  subset = NULL, fill = NULL, drop = TRUE,
  value.var = guess_value(data))
</code></pre>

<p>这是一个变宽的函数，将某一列的数值成列名
formula 就是 恒定列~改变的列（此列的数值变成列名）</p>

<p>acast(aqm, day ~ month ~ variable)
 day为固定不变的列，month列中的值变为扩展列的列名， variable列中的数值拆分成第三维的数据，按照list进行输出</p>

<p>acast(aqm, month ~ variable, mean, margins = TRUE)
 month为固定不变的列，variable列中数值拆分成扩展列的列名，此时对于month对应多个day，可以进行 mean操作（也就是fun.aggregate）， margin 可以自己体会</p>

<p>acast(chick_m, chick ~ time, mean, subset = .(time &lt; 10 &amp; chick &lt; 20))
subset对变量进行限制。 '.'函数将变量 time， chick 当做字符串来操作而不是他们代表的数值</p>

<pre><code>## 
## cast&gt; #Air quality example
## cast&gt; names(airquality) &lt;- tolower(names(airquality))
## 
## cast&gt; aqm &lt;- melt(airquality, id=c("month", "day"), na.rm=TRUE)
## 
## cast&gt; acast(aqm, day ~ month ~ variable)
## , , ozone
## 
##      5  6   7   8  9
## 1   41 NA 135  39 96
## 2   36 NA  49   9 78
## 3   12 NA  32  16 73
## 4   18 NA  NA  78 91
## 5   NA NA  64  35 47
## 6   28 NA  40  66 32
## 7   23 29  77 122 20
## 8   19 NA  97  89 23
## 9    8 71  97 110 21
## 10  NA 39  85  NA 24
## 11   7 NA  NA  NA 44
## 12  16 NA  10  44 21
## 13  11 23  27  28 28
## 14  14 NA  NA  65  9
## 15  18 NA   7  NA 13
## 16  14 21  48  22 46
## 17  34 37  35  59 18
## 18   6 20  61  23 13
## 19  30 12  79  31 24
## 20  11 13  63  44 16
## 21   1 NA  16  21 13
## 22  11 NA  NA   9 23
## 23   4 NA  NA  NA 36
## 24  32 NA  80  45  7
## 25  NA NA 108 168 14
## 26  NA NA  20  73 30
## 27  NA NA  52  NA NA
## 28  23 NA  82  76 14
## 29  45 NA  50 118 18
## 30 115 NA  64  84 20
## 31  37 NA  59  85 NA
## 
## , , solar.r
## 
##      5   6   7   8   9
## 1  190 286 269  83 167
## 2  118 287 248  24 197
## 3  149 242 236  77 183
## 4  313 186 101  NA 189
## 5   NA 220 175  NA  95
## 6   NA 264 314  NA  92
## 7  299 127 276 255 252
## 8   99 273 267 229 220
## 9   19 291 272 207 230
## 10 194 323 175 222 259
## 11  NA 259 139 137 236
## 12 256 250 264 192 259
## 13 290 148 175 273 238
## 14 274 332 291 157  24
## 15  65 322  48  64 112
## 16 334 191 260  71 237
## 17 307 284 274  51 224
## 18  78  37 285 115  27
## 19 322 120 187 244 238
## 20  44 137 220 190 201
## 21   8 150   7 259 238
## 22 320  59 258  36  14
## 23  25  91 295 255 139
## 24  92 250 294 212  49
## 25  66 135 223 238  20
## 26 266 127  81 215 193
## 27  NA  47  82 153 145
## 28  13  98 213 203 191
## 29 252  31 275 225 131
## 30 223 138 253 237 223
## 31 279  NA 254 188  NA
## 
## , , wind
## 
##       5    6    7    8    9
## 1   7.4  8.6  4.1  6.9  6.9
## 2   8.0  9.7  9.2 13.8  5.1
## 3  12.6 16.1  9.2  7.4  2.8
## 4  11.5  9.2 10.9  6.9  4.6
## 5  14.3  8.6  4.6  7.4  7.4
## 6  14.9 14.3 10.9  4.6 15.5
## 7   8.6  9.7  5.1  4.0 10.9
## 8  13.8  6.9  6.3 10.3 10.3
## 9  20.1 13.8  5.7  8.0 10.9
## 10  8.6 11.5  7.4  8.6  9.7
## 11  6.9 10.9  8.6 11.5 14.9
## 12  9.7  9.2 14.3 11.5 15.5
## 13  9.2  8.0 14.9 11.5  6.3
## 14 10.9 13.8 14.9  9.7 10.9
## 15 13.2 11.5 14.3 11.5 11.5
## 16 11.5 14.9  6.9 10.3  6.9
## 17 12.0 20.7 10.3  6.3 13.8
## 18 18.4  9.2  6.3  7.4 10.3
## 19 11.5 11.5  5.1 10.9 10.3
## 20  9.7 10.3 11.5 10.3  8.0
## 21  9.7  6.3  6.9 15.5 12.6
## 22 16.6  1.7  9.7 14.3  9.2
## 23  9.7  4.6 11.5 12.6 10.3
## 24 12.0  6.3  8.6  9.7 10.3
## 25 16.6  8.0  8.0  3.4 16.6
## 26 14.9  8.0  8.6  8.0  6.9
## 27  8.0 10.3 12.0  5.7 13.2
## 28 12.0 11.5  7.4  9.7 14.3
## 29 14.9 14.9  7.4  2.3  8.0
## 30  5.7  8.0  7.4  6.3 11.5
## 31  7.4   NA  9.2  6.3   NA
## 
## , , temp
## 
##     5  6  7  8  9
## 1  67 78 84 81 91
## 2  72 74 85 81 92
## 3  74 67 81 82 93
## 4  62 84 84 86 93
## 5  56 85 83 85 87
## 6  66 79 83 87 84
## 7  65 82 88 89 80
## 8  59 87 92 90 78
## 9  61 90 92 90 75
## 10 69 87 89 92 73
## 11 74 93 82 86 81
## 12 69 92 73 86 76
## 13 66 82 81 82 77
## 14 68 80 91 80 71
## 15 58 79 80 79 71
## 16 64 77 81 77 78
## 17 66 72 82 79 67
## 18 57 65 84 76 76
## 19 68 73 87 78 68
## 20 62 76 85 78 82
## 21 59 77 74 77 64
## 22 73 76 81 72 71
## 23 61 76 82 75 81
## 24 61 76 86 79 69
## 25 57 75 85 81 63
## 26 58 78 82 86 70
## 27 57 73 86 88 77
## 28 67 80 88 97 75
## 29 81 77 86 94 76
## 30 79 83 83 96 68
## 31 76 NA 81 94 NA
## 
## 
## cast&gt; acast(aqm, month ~ variable, mean)
##      ozone  solar.r      wind     temp
## 5 23.61538 181.2963 11.622581 65.54839
## 6 29.44444 190.1667 10.266667 79.10000
## 7 59.11538 216.4839  8.941935 83.90323
## 8 59.96154 171.8571  8.793548 83.96774
## 9 31.44828 167.4333 10.180000 76.90000
## 
## cast&gt; acast(aqm, month ~ variable, mean, margins = TRUE)
##          ozone  solar.r      wind     temp    (all)
## 5     23.61538 181.2963 11.622581 65.54839 68.70696
## 6     29.44444 190.1667 10.266667 79.10000 87.38384
## 7     59.11538 216.4839  8.941935 83.90323 93.49748
## 8     59.96154 171.8571  8.793548 83.96774 79.71207
## 9     31.44828 167.4333 10.180000 76.90000 71.82689
## (all) 42.12931 185.9315  9.957516 77.88235 80.05722
## 
## cast&gt; dcast(aqm, month ~ variable, mean, margins = c("month", "variable"))
##   month    ozone  solar.r      wind     temp    (all)
## 1     5 23.61538 181.2963 11.622581 65.54839 68.70696
## 2     6 29.44444 190.1667 10.266667 79.10000 87.38384
## 3     7 59.11538 216.4839  8.941935 83.90323 93.49748
## 4     8 59.96154 171.8571  8.793548 83.96774 79.71207
## 5     9 31.44828 167.4333 10.180000 76.90000 71.82689
## 6 (all) 42.12931 185.9315  9.957516 77.88235 80.05722
## 
## cast&gt; library(plyr) # needed to access . function
## 
## cast&gt; acast(aqm, variable ~ month, mean, subset = .(variable == "ozone"))
##              5        6        7        8        9
## ozone 23.61538 29.44444 59.11538 59.96154 31.44828
## 
## cast&gt; acast(aqm, variable ~ month, mean, subset = .(month == 5))
##                 5
## ozone    23.61538
## solar.r 181.29630
## wind     11.62258
## temp     65.54839
## 
## cast&gt; #Chick weight example
## cast&gt; names(ChickWeight) &lt;- tolower(names(ChickWeight))
## 
## cast&gt; chick_m &lt;- melt(ChickWeight, id=2:4, na.rm=TRUE)
## 
## cast&gt; dcast(chick_m, time ~ variable, mean) # average effect of time
##    time    weight
## 1     0  41.06000
## 2     2  49.22000
## 3     4  59.95918
## 4     6  74.30612
## 5     8  91.24490
## 6    10 107.83673
## 7    12 129.24490
## 8    14 143.81250
## 9    16 168.08511
## 10   18 190.19149
## 11   20 209.71739
## 12   21 218.68889
## 
## cast&gt; dcast(chick_m, diet ~ variable, mean) # average effect of diet
##   diet   weight
## 1    1 102.6455
## 2    2 122.6167
## 3    3 142.9500
## 4    4 135.2627
## 
## cast&gt; acast(chick_m, diet ~ time, mean) # average effect of diet &amp; time
##      0     2        4        6         8        10       12       14
## 1 41.4 47.25 56.47368 66.78947  79.68421  93.05263 108.5263 123.3889
## 2 40.7 49.40 59.80000 75.40000  91.70000 108.50000 131.3000 141.9000
## 3 40.8 50.40 62.20000 77.90000  98.40000 117.10000 144.4000 164.5000
## 4 41.0 51.80 64.50000 83.90000 105.60000 126.00000 151.4000 161.8000
##         16       18       20       21
## 1 144.6471 158.9412 170.4118 177.7500
## 2 164.7000 187.7000 205.6000 214.7000
## 3 197.4000 233.1000 258.9000 270.3000
## 4 182.0000 202.9000 233.8889 238.5556
## 
## cast&gt; # How many chicks at each time? - checking for balance
## cast&gt; acast(chick_m, time ~ diet, length)
##     1  2  3  4
## 0  20 10 10 10
## 2  20 10 10 10
## 4  19 10 10 10
## 6  19 10 10 10
## 8  19 10 10 10
## 10 19 10 10 10
## 12 19 10 10 10
## 14 18 10 10 10
## 16 17 10 10 10
## 18 17 10 10 10
## 20 17 10 10  9
## 21 16 10 10  9
## 
## cast&gt; acast(chick_m, chick ~ time, mean)
##     0  2   4   6   8  10  12  14  16  18  20  21
## 18 39 35 NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN
## 16 41 45  49  51  57  51  54 NaN NaN NaN NaN NaN
## 15 41 49  56  64  68  68  67  68 NaN NaN NaN NaN
## 13 41 48  53  60  65  67  71  70  71  81  91  96
## 9  42 51  59  68  85  96  90  92  93 100 100  98
## 20 41 47  54  58  65  73  77  89  98 107 115 117
## 10 41 44  52  63  74  81  89  96 101 112 120 124
## 8  42 50  61  71  84  93 110 116 126 134 125 NaN
## 17 42 51  61  72  83  89  98 103 113 123 133 142
## 19 43 48  55  62  65  71  82  88 106 120 144 157
## 4  42 49  56  67  74  87 102 108 136 154 160 157
## 6  41 49  59  74  97 124 141 148 155 160 160 157
## 11 43 51  63  84 112 139 168 177 182 184 181 175
## 3  43 39  55  67  84  99 115 138 163 187 198 202
## 1  42 51  59  64  76  93 106 125 149 171 199 205
## 12 41 49  56  62  72  88 119 135 162 185 195 205
## 2  40 49  58  72  84 103 122 138 162 187 209 215
## 5  41 42  48  60  79 106 141 164 197 199 220 223
## 14 41 49  62  79 101 128 164 192 227 248 259 266
## 7  41 49  57  71  89 112 146 174 218 250 288 305
## 24 42 52  58  74  66  68  70  71  72  72  76  74
## 30 42 48  59  72  85  98 115 122 143 151 157 150
## 22 41 55  64  77  90  95 108 111 131 148 164 167
## 23 43 52  61  73  90 103 127 135 145 163 170 175
## 27 39 46  58  73  87 100 115 123 144 163 185 192
## 28 39 46  58  73  92 114 145 156 184 207 212 233
## 26 42 48  57  74  93 114 136 147 169 205 236 251
## 25 40 49  62  78 102 124 146 164 197 231 259 265
## 29 39 48  59  74  87 106 134 150 187 230 279 309
## 21 40 50  62  86 125 163 217 240 275 307 318 331
## 33 39 50  63  77  96 111 137 144 151 146 156 147
## 37 41 48  56  68  80  83 103 112 135 157 169 178
## 36 39 48  61  76  98 116 145 166 198 227 225 220
## 31 42 53  62  73  85 102 123 138 170 204 235 256
## 39 42 50  61  78  89 109 130 146 170 214 250 272
## 38 41 49  61  74  98 109 128 154 192 232 280 290
## 32 41 49  65  82 107 129 159 179 221 263 291 305
## 40 41 55  66  79 101 120 154 182 215 262 295 321
## 34 41 49  63  85 107 134 164 186 235 294 327 341
## 35 41 53  64  87 123 158 201 238 287 332 361 373
## 44 42 51  65  86 103 118 127 138 145 146 NaN NaN
## 45 41 50  61  78  98 117 135 141 147 174 197 196
## 43 42 55  69  96 131 157 184 188 197 198 199 200
## 41 42 51  66  85 103 124 155 153 175 184 199 204
## 47 41 53  66  79 100 123 148 157 168 185 210 205
## 49 40 53  64  85 108 128 152 166 184 203 233 237
## 46 40 52  62  82 101 120 144 156 173 210 231 238
## 50 41 54  67  84 105 122 155 175 205 234 264 264
## 42 42 49  63  84 103 126 160 174 204 234 269 281
## 48 39 50  62  80 104 125 154 170 222 261 303 322
## 
## cast&gt; acast(chick_m, chick ~ time, mean, subset = .(time &lt; 10 &amp; chick &lt; 20))
##     0  2   4   6   8
## 18 39 35 NaN NaN NaN
## 16 41 45  49  51  57
## 15 41 49  56  64  68
## 13 41 48  53  60  65
## 9  42 51  59  68  85
## 
## cast&gt; acast(chick_m, time ~ diet, length)
##     1  2  3  4
## 0  20 10 10 10
## 2  20 10 10 10
## 4  19 10 10 10
## 6  19 10 10 10
## 8  19 10 10 10
## 10 19 10 10 10
## 12 19 10 10 10
## 14 18 10 10 10
## 16 17 10 10 10
## 18 17 10 10 10
## 20 17 10 10  9
## 21 16 10 10  9
## 
## cast&gt; dcast(chick_m, diet + chick ~ time)
##    diet chick  0  2  4  6   8  10  12  14  16  18  20  21
## 1     1    18 39 35 NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 2     1    16 41 45 49 51  57  51  54  NA  NA  NA  NA  NA
## 3     1    15 41 49 56 64  68  68  67  68  NA  NA  NA  NA
## 4     1    13 41 48 53 60  65  67  71  70  71  81  91  96
## 5     1     9 42 51 59 68  85  96  90  92  93 100 100  98
## 6     1    20 41 47 54 58  65  73  77  89  98 107 115 117
## 7     1    10 41 44 52 63  74  81  89  96 101 112 120 124
## 8     1     8 42 50 61 71  84  93 110 116 126 134 125  NA
## 9     1    17 42 51 61 72  83  89  98 103 113 123 133 142
## 10    1    19 43 48 55 62  65  71  82  88 106 120 144 157
## 11    1     4 42 49 56 67  74  87 102 108 136 154 160 157
## 12    1     6 41 49 59 74  97 124 141 148 155 160 160 157
## 13    1    11 43 51 63 84 112 139 168 177 182 184 181 175
## 14    1     3 43 39 55 67  84  99 115 138 163 187 198 202
## 15    1     1 42 51 59 64  76  93 106 125 149 171 199 205
## 16    1    12 41 49 56 62  72  88 119 135 162 185 195 205
## 17    1     2 40 49 58 72  84 103 122 138 162 187 209 215
## 18    1     5 41 42 48 60  79 106 141 164 197 199 220 223
## 19    1    14 41 49 62 79 101 128 164 192 227 248 259 266
## 20    1     7 41 49 57 71  89 112 146 174 218 250 288 305
## 21    2    24 42 52 58 74  66  68  70  71  72  72  76  74
## 22    2    30 42 48 59 72  85  98 115 122 143 151 157 150
## 23    2    22 41 55 64 77  90  95 108 111 131 148 164 167
## 24    2    23 43 52 61 73  90 103 127 135 145 163 170 175
## 25    2    27 39 46 58 73  87 100 115 123 144 163 185 192
## 26    2    28 39 46 58 73  92 114 145 156 184 207 212 233
## 27    2    26 42 48 57 74  93 114 136 147 169 205 236 251
## 28    2    25 40 49 62 78 102 124 146 164 197 231 259 265
## 29    2    29 39 48 59 74  87 106 134 150 187 230 279 309
## 30    2    21 40 50 62 86 125 163 217 240 275 307 318 331
## 31    3    33 39 50 63 77  96 111 137 144 151 146 156 147
## 32    3    37 41 48 56 68  80  83 103 112 135 157 169 178
## 33    3    36 39 48 61 76  98 116 145 166 198 227 225 220
## 34    3    31 42 53 62 73  85 102 123 138 170 204 235 256
## 35    3    39 42 50 61 78  89 109 130 146 170 214 250 272
## 36    3    38 41 49 61 74  98 109 128 154 192 232 280 290
## 37    3    32 41 49 65 82 107 129 159 179 221 263 291 305
## 38    3    40 41 55 66 79 101 120 154 182 215 262 295 321
## 39    3    34 41 49 63 85 107 134 164 186 235 294 327 341
## 40    3    35 41 53 64 87 123 158 201 238 287 332 361 373
## 41    4    44 42 51 65 86 103 118 127 138 145 146  NA  NA
## 42    4    45 41 50 61 78  98 117 135 141 147 174 197 196
## 43    4    43 42 55 69 96 131 157 184 188 197 198 199 200
## 44    4    41 42 51 66 85 103 124 155 153 175 184 199 204
## 45    4    47 41 53 66 79 100 123 148 157 168 185 210 205
## 46    4    49 40 53 64 85 108 128 152 166 184 203 233 237
## 47    4    46 40 52 62 82 101 120 144 156 173 210 231 238
## 48    4    50 41 54 67 84 105 122 155 175 205 234 264 264
## 49    4    42 42 49 63 84 103 126 160 174 204 234 269 281
## 50    4    48 39 50 62 80 104 125 154 170 222 261 303 322
## 
## cast&gt; acast(chick_m, diet + chick ~ time)
##       0  2  4  6   8  10  12  14  16  18  20  21
## 1_18 39 35 NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 1_16 41 45 49 51  57  51  54  NA  NA  NA  NA  NA
## 1_15 41 49 56 64  68  68  67  68  NA  NA  NA  NA
## 1_13 41 48 53 60  65  67  71  70  71  81  91  96
## 1_9  42 51 59 68  85  96  90  92  93 100 100  98
## 1_20 41 47 54 58  65  73  77  89  98 107 115 117
## 1_10 41 44 52 63  74  81  89  96 101 112 120 124
## 1_8  42 50 61 71  84  93 110 116 126 134 125  NA
## 1_17 42 51 61 72  83  89  98 103 113 123 133 142
## 1_19 43 48 55 62  65  71  82  88 106 120 144 157
## 1_4  42 49 56 67  74  87 102 108 136 154 160 157
## 1_6  41 49 59 74  97 124 141 148 155 160 160 157
## 1_11 43 51 63 84 112 139 168 177 182 184 181 175
## 1_3  43 39 55 67  84  99 115 138 163 187 198 202
## 1_1  42 51 59 64  76  93 106 125 149 171 199 205
## 1_12 41 49 56 62  72  88 119 135 162 185 195 205
## 1_2  40 49 58 72  84 103 122 138 162 187 209 215
## 1_5  41 42 48 60  79 106 141 164 197 199 220 223
## 1_14 41 49 62 79 101 128 164 192 227 248 259 266
## 1_7  41 49 57 71  89 112 146 174 218 250 288 305
## 2_24 42 52 58 74  66  68  70  71  72  72  76  74
## 2_30 42 48 59 72  85  98 115 122 143 151 157 150
## 2_22 41 55 64 77  90  95 108 111 131 148 164 167
## 2_23 43 52 61 73  90 103 127 135 145 163 170 175
## 2_27 39 46 58 73  87 100 115 123 144 163 185 192
## 2_28 39 46 58 73  92 114 145 156 184 207 212 233
## 2_26 42 48 57 74  93 114 136 147 169 205 236 251
## 2_25 40 49 62 78 102 124 146 164 197 231 259 265
## 2_29 39 48 59 74  87 106 134 150 187 230 279 309
## 2_21 40 50 62 86 125 163 217 240 275 307 318 331
## 3_33 39 50 63 77  96 111 137 144 151 146 156 147
## 3_37 41 48 56 68  80  83 103 112 135 157 169 178
## 3_36 39 48 61 76  98 116 145 166 198 227 225 220
## 3_31 42 53 62 73  85 102 123 138 170 204 235 256
## 3_39 42 50 61 78  89 109 130 146 170 214 250 272
## 3_38 41 49 61 74  98 109 128 154 192 232 280 290
## 3_32 41 49 65 82 107 129 159 179 221 263 291 305
## 3_40 41 55 66 79 101 120 154 182 215 262 295 321
## 3_34 41 49 63 85 107 134 164 186 235 294 327 341
## 3_35 41 53 64 87 123 158 201 238 287 332 361 373
## 4_44 42 51 65 86 103 118 127 138 145 146  NA  NA
## 4_45 41 50 61 78  98 117 135 141 147 174 197 196
## 4_43 42 55 69 96 131 157 184 188 197 198 199 200
## 4_41 42 51 66 85 103 124 155 153 175 184 199 204
## 4_47 41 53 66 79 100 123 148 157 168 185 210 205
## 4_49 40 53 64 85 108 128 152 166 184 203 233 237
## 4_46 40 52 62 82 101 120 144 156 173 210 231 238
## 4_50 41 54 67 84 105 122 155 175 205 234 264 264
## 4_42 42 49 63 84 103 126 160 174 204 234 269 281
## 4_48 39 50 62 80 104 125 154 170 222 261 303 322
## 
## cast&gt; acast(chick_m, chick ~ time ~ diet)
## , , 1
## 
##     0  2  4  6   8  10  12  14  16  18  20  21
## 18 39 35 NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 16 41 45 49 51  57  51  54  NA  NA  NA  NA  NA
## 15 41 49 56 64  68  68  67  68  NA  NA  NA  NA
## 13 41 48 53 60  65  67  71  70  71  81  91  96
## 9  42 51 59 68  85  96  90  92  93 100 100  98
## 20 41 47 54 58  65  73  77  89  98 107 115 117
## 10 41 44 52 63  74  81  89  96 101 112 120 124
## 8  42 50 61 71  84  93 110 116 126 134 125  NA
## 17 42 51 61 72  83  89  98 103 113 123 133 142
## 19 43 48 55 62  65  71  82  88 106 120 144 157
## 4  42 49 56 67  74  87 102 108 136 154 160 157
## 6  41 49 59 74  97 124 141 148 155 160 160 157
## 11 43 51 63 84 112 139 168 177 182 184 181 175
## 3  43 39 55 67  84  99 115 138 163 187 198 202
## 1  42 51 59 64  76  93 106 125 149 171 199 205
## 12 41 49 56 62  72  88 119 135 162 185 195 205
## 2  40 49 58 72  84 103 122 138 162 187 209 215
## 5  41 42 48 60  79 106 141 164 197 199 220 223
## 14 41 49 62 79 101 128 164 192 227 248 259 266
## 7  41 49 57 71  89 112 146 174 218 250 288 305
## 24 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 30 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 22 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 23 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 27 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 28 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 26 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 25 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 29 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 21 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 33 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 37 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 36 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 31 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 39 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 38 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 32 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 40 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 34 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 35 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 44 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 45 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 43 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 41 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 47 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 49 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 46 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 50 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 42 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 48 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 
## , , 2
## 
##     0  2  4  6   8  10  12  14  16  18  20  21
## 18 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 16 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 15 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 13 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 9  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 20 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 10 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 8  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 17 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 19 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 4  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 6  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 11 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 3  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 1  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 12 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 2  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 5  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 14 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 7  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 24 42 52 58 74  66  68  70  71  72  72  76  74
## 30 42 48 59 72  85  98 115 122 143 151 157 150
## 22 41 55 64 77  90  95 108 111 131 148 164 167
## 23 43 52 61 73  90 103 127 135 145 163 170 175
## 27 39 46 58 73  87 100 115 123 144 163 185 192
## 28 39 46 58 73  92 114 145 156 184 207 212 233
## 26 42 48 57 74  93 114 136 147 169 205 236 251
## 25 40 49 62 78 102 124 146 164 197 231 259 265
## 29 39 48 59 74  87 106 134 150 187 230 279 309
## 21 40 50 62 86 125 163 217 240 275 307 318 331
## 33 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 37 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 36 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 31 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 39 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 38 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 32 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 40 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 34 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 35 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 44 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 45 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 43 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 41 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 47 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 49 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 46 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 50 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 42 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 48 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 
## , , 3
## 
##     0  2  4  6   8  10  12  14  16  18  20  21
## 18 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 16 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 15 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 13 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 9  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 20 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 10 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 8  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 17 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 19 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 4  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 6  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 11 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 3  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 1  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 12 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 2  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 5  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 14 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 7  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 24 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 30 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 22 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 23 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 27 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 28 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 26 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 25 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 29 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 21 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 33 39 50 63 77  96 111 137 144 151 146 156 147
## 37 41 48 56 68  80  83 103 112 135 157 169 178
## 36 39 48 61 76  98 116 145 166 198 227 225 220
## 31 42 53 62 73  85 102 123 138 170 204 235 256
## 39 42 50 61 78  89 109 130 146 170 214 250 272
## 38 41 49 61 74  98 109 128 154 192 232 280 290
## 32 41 49 65 82 107 129 159 179 221 263 291 305
## 40 41 55 66 79 101 120 154 182 215 262 295 321
## 34 41 49 63 85 107 134 164 186 235 294 327 341
## 35 41 53 64 87 123 158 201 238 287 332 361 373
## 44 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 45 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 43 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 41 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 47 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 49 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 46 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 50 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 42 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 48 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 
## , , 4
## 
##     0  2  4  6   8  10  12  14  16  18  20  21
## 18 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 16 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 15 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 13 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 9  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 20 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 10 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 8  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 17 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 19 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 4  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 6  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 11 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 3  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 1  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 12 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 2  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 5  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 14 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 7  NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 24 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 30 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 22 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 23 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 27 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 28 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 26 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 25 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 29 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 21 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 33 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 37 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 36 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 31 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 39 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 38 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 32 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 40 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 34 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 35 NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA
## 44 42 51 65 86 103 118 127 138 145 146  NA  NA
## 45 41 50 61 78  98 117 135 141 147 174 197 196
## 43 42 55 69 96 131 157 184 188 197 198 199 200
## 41 42 51 66 85 103 124 155 153 175 184 199 204
## 47 41 53 66 79 100 123 148 157 168 185 210 205
## 49 40 53 64 85 108 128 152 166 184 203 233 237
## 46 40 52 62 82 101 120 144 156 173 210 231 238
## 50 41 54 67 84 105 122 155 175 205 234 264 264
## 42 42 49 63 84 103 126 160 174 204 234 269 281
## 48 39 50 62 80 104 125 154 170 222 261 303 322
## 
## 
## cast&gt; acast(chick_m, diet + chick ~ time, length, margins="diet")
##              0  2  4  6  8 10 12 14 16 18 20 21
## 1_18         1  1  0  0  0  0  0  0  0  0  0  0
## 1_16         1  1  1  1  1  1  1  0  0  0  0  0
## 1_15         1  1  1  1  1  1  1  1  0  0  0  0
## 1_13         1  1  1  1  1  1  1  1  1  1  1  1
## 1_9          1  1  1  1  1  1  1  1  1  1  1  1
## 1_20         1  1  1  1  1  1  1  1  1  1  1  1
## 1_10         1  1  1  1  1  1  1  1  1  1  1  1
## 1_8          1  1  1  1  1  1  1  1  1  1  1  0
## 1_17         1  1  1  1  1  1  1  1  1  1  1  1
## 1_19         1  1  1  1  1  1  1  1  1  1  1  1
## 1_4          1  1  1  1  1  1  1  1  1  1  1  1
## 1_6          1  1  1  1  1  1  1  1  1  1  1  1
## 1_11         1  1  1  1  1  1  1  1  1  1  1  1
## 1_3          1  1  1  1  1  1  1  1  1  1  1  1
## 1_1          1  1  1  1  1  1  1  1  1  1  1  1
## 1_12         1  1  1  1  1  1  1  1  1  1  1  1
## 1_2          1  1  1  1  1  1  1  1  1  1  1  1
## 1_5          1  1  1  1  1  1  1  1  1  1  1  1
## 1_14         1  1  1  1  1  1  1  1  1  1  1  1
## 1_7          1  1  1  1  1  1  1  1  1  1  1  1
## 2_24         1  1  1  1  1  1  1  1  1  1  1  1
## 2_30         1  1  1  1  1  1  1  1  1  1  1  1
## 2_22         1  1  1  1  1  1  1  1  1  1  1  1
## 2_23         1  1  1  1  1  1  1  1  1  1  1  1
## 2_27         1  1  1  1  1  1  1  1  1  1  1  1
## 2_28         1  1  1  1  1  1  1  1  1  1  1  1
## 2_26         1  1  1  1  1  1  1  1  1  1  1  1
## 2_25         1  1  1  1  1  1  1  1  1  1  1  1
## 2_29         1  1  1  1  1  1  1  1  1  1  1  1
## 2_21         1  1  1  1  1  1  1  1  1  1  1  1
## 3_33         1  1  1  1  1  1  1  1  1  1  1  1
## 3_37         1  1  1  1  1  1  1  1  1  1  1  1
## 3_36         1  1  1  1  1  1  1  1  1  1  1  1
## 3_31         1  1  1  1  1  1  1  1  1  1  1  1
## 3_39         1  1  1  1  1  1  1  1  1  1  1  1
## 3_38         1  1  1  1  1  1  1  1  1  1  1  1
## 3_32         1  1  1  1  1  1  1  1  1  1  1  1
## 3_40         1  1  1  1  1  1  1  1  1  1  1  1
## 3_34         1  1  1  1  1  1  1  1  1  1  1  1
## 3_35         1  1  1  1  1  1  1  1  1  1  1  1
## 4_44         1  1  1  1  1  1  1  1  1  1  0  0
## 4_45         1  1  1  1  1  1  1  1  1  1  1  1
## 4_43         1  1  1  1  1  1  1  1  1  1  1  1
## 4_41         1  1  1  1  1  1  1  1  1  1  1  1
## 4_47         1  1  1  1  1  1  1  1  1  1  1  1
## 4_49         1  1  1  1  1  1  1  1  1  1  1  1
## 4_46         1  1  1  1  1  1  1  1  1  1  1  1
## 4_50         1  1  1  1  1  1  1  1  1  1  1  1
## 4_42         1  1  1  1  1  1  1  1  1  1  1  1
## 4_48         1  1  1  1  1  1  1  1  1  1  1  1
## (all)_(all) 50 50 49 49 49 49 49 48 47 47 46 45
## 
## cast&gt; acast(chick_m, diet + chick ~ time, length, drop = FALSE)
##      0 2 4 6 8 10 12 14 16 18 20 21
## 1_18 1 1 0 0 0  0  0  0  0  0  0  0
## 1_16 1 1 1 1 1  1  1  0  0  0  0  0
## 1_15 1 1 1 1 1  1  1  1  0  0  0  0
## 1_13 1 1 1 1 1  1  1  1  1  1  1  1
## 1_9  1 1 1 1 1  1  1  1  1  1  1  1
## 1_20 1 1 1 1 1  1  1  1  1  1  1  1
## 1_10 1 1 1 1 1  1  1  1  1  1  1  1
## 1_8  1 1 1 1 1  1  1  1  1  1  1  0
## 1_17 1 1 1 1 1  1  1  1  1  1  1  1
## 1_19 1 1 1 1 1  1  1  1  1  1  1  1
## 1_4  1 1 1 1 1  1  1  1  1  1  1  1
## 1_6  1 1 1 1 1  1  1  1  1  1  1  1
## 1_11 1 1 1 1 1  1  1  1  1  1  1  1
## 1_3  1 1 1 1 1  1  1  1  1  1  1  1
## 1_1  1 1 1 1 1  1  1  1  1  1  1  1
## 1_12 1 1 1 1 1  1  1  1  1  1  1  1
## 1_2  1 1 1 1 1  1  1  1  1  1  1  1
## 1_5  1 1 1 1 1  1  1  1  1  1  1  1
## 1_14 1 1 1 1 1  1  1  1  1  1  1  1
## 1_7  1 1 1 1 1  1  1  1  1  1  1  1
## 1_24 0 0 0 0 0  0  0  0  0  0  0  0
## 1_30 0 0 0 0 0  0  0  0  0  0  0  0
## 1_22 0 0 0 0 0  0  0  0  0  0  0  0
## 1_23 0 0 0 0 0  0  0  0  0  0  0  0
## 1_27 0 0 0 0 0  0  0  0  0  0  0  0
## 1_28 0 0 0 0 0  0  0  0  0  0  0  0
## 1_26 0 0 0 0 0  0  0  0  0  0  0  0
## 1_25 0 0 0 0 0  0  0  0  0  0  0  0
## 1_29 0 0 0 0 0  0  0  0  0  0  0  0
## 1_21 0 0 0 0 0  0  0  0  0  0  0  0
## 1_33 0 0 0 0 0  0  0  0  0  0  0  0
## 1_37 0 0 0 0 0  0  0  0  0  0  0  0
## 1_36 0 0 0 0 0  0  0  0  0  0  0  0
## 1_31 0 0 0 0 0  0  0  0  0  0  0  0
## 1_39 0 0 0 0 0  0  0  0  0  0  0  0
## 1_38 0 0 0 0 0  0  0  0  0  0  0  0
## 1_32 0 0 0 0 0  0  0  0  0  0  0  0
## 1_40 0 0 0 0 0  0  0  0  0  0  0  0
## 1_34 0 0 0 0 0  0  0  0  0  0  0  0
## 1_35 0 0 0 0 0  0  0  0  0  0  0  0
## 1_44 0 0 0 0 0  0  0  0  0  0  0  0
## 1_45 0 0 0 0 0  0  0  0  0  0  0  0
## 1_43 0 0 0 0 0  0  0  0  0  0  0  0
## 1_41 0 0 0 0 0  0  0  0  0  0  0  0
## 1_47 0 0 0 0 0  0  0  0  0  0  0  0
## 1_49 0 0 0 0 0  0  0  0  0  0  0  0
## 1_46 0 0 0 0 0  0  0  0  0  0  0  0
## 1_50 0 0 0 0 0  0  0  0  0  0  0  0
## 1_42 0 0 0 0 0  0  0  0  0  0  0  0
## 1_48 0 0 0 0 0  0  0  0  0  0  0  0
## 2_18 0 0 0 0 0  0  0  0  0  0  0  0
## 2_16 0 0 0 0 0  0  0  0  0  0  0  0
## 2_15 0 0 0 0 0  0  0  0  0  0  0  0
## 2_13 0 0 0 0 0  0  0  0  0  0  0  0
## 2_9  0 0 0 0 0  0  0  0  0  0  0  0
## 2_20 0 0 0 0 0  0  0  0  0  0  0  0
## 2_10 0 0 0 0 0  0  0  0  0  0  0  0
## 2_8  0 0 0 0 0  0  0  0  0  0  0  0
## 2_17 0 0 0 0 0  0  0  0  0  0  0  0
## 2_19 0 0 0 0 0  0  0  0  0  0  0  0
## 2_4  0 0 0 0 0  0  0  0  0  0  0  0
## 2_6  0 0 0 0 0  0  0  0  0  0  0  0
## 2_11 0 0 0 0 0  0  0  0  0  0  0  0
## 2_3  0 0 0 0 0  0  0  0  0  0  0  0
## 2_1  0 0 0 0 0  0  0  0  0  0  0  0
## 2_12 0 0 0 0 0  0  0  0  0  0  0  0
## 2_2  0 0 0 0 0  0  0  0  0  0  0  0
## 2_5  0 0 0 0 0  0  0  0  0  0  0  0
## 2_14 0 0 0 0 0  0  0  0  0  0  0  0
## 2_7  0 0 0 0 0  0  0  0  0  0  0  0
## 2_24 1 1 1 1 1  1  1  1  1  1  1  1
## 2_30 1 1 1 1 1  1  1  1  1  1  1  1
## 2_22 1 1 1 1 1  1  1  1  1  1  1  1
## 2_23 1 1 1 1 1  1  1  1  1  1  1  1
## 2_27 1 1 1 1 1  1  1  1  1  1  1  1
## 2_28 1 1 1 1 1  1  1  1  1  1  1  1
## 2_26 1 1 1 1 1  1  1  1  1  1  1  1
## 2_25 1 1 1 1 1  1  1  1  1  1  1  1
## 2_29 1 1 1 1 1  1  1  1  1  1  1  1
## 2_21 1 1 1 1 1  1  1  1  1  1  1  1
## 2_33 0 0 0 0 0  0  0  0  0  0  0  0
## 2_37 0 0 0 0 0  0  0  0  0  0  0  0
## 2_36 0 0 0 0 0  0  0  0  0  0  0  0
## 2_31 0 0 0 0 0  0  0  0  0  0  0  0
## 2_39 0 0 0 0 0  0  0  0  0  0  0  0
## 2_38 0 0 0 0 0  0  0  0  0  0  0  0
## 2_32 0 0 0 0 0  0  0  0  0  0  0  0
## 2_40 0 0 0 0 0  0  0  0  0  0  0  0
## 2_34 0 0 0 0 0  0  0  0  0  0  0  0
## 2_35 0 0 0 0 0  0  0  0  0  0  0  0
## 2_44 0 0 0 0 0  0  0  0  0  0  0  0
## 2_45 0 0 0 0 0  0  0  0  0  0  0  0
## 2_43 0 0 0 0 0  0  0  0  0  0  0  0
## 2_41 0 0 0 0 0  0  0  0  0  0  0  0
## 2_47 0 0 0 0 0  0  0  0  0  0  0  0
## 2_49 0 0 0 0 0  0  0  0  0  0  0  0
## 2_46 0 0 0 0 0  0  0  0  0  0  0  0
## 2_50 0 0 0 0 0  0  0  0  0  0  0  0
## 2_42 0 0 0 0 0  0  0  0  0  0  0  0
## 2_48 0 0 0 0 0  0  0  0  0  0  0  0
## 3_18 0 0 0 0 0  0  0  0  0  0  0  0
## 3_16 0 0 0 0 0  0  0  0  0  0  0  0
## 3_15 0 0 0 0 0  0  0  0  0  0  0  0
## 3_13 0 0 0 0 0  0  0  0  0  0  0  0
## 3_9  0 0 0 0 0  0  0  0  0  0  0  0
## 3_20 0 0 0 0 0  0  0  0  0  0  0  0
## 3_10 0 0 0 0 0  0  0  0  0  0  0  0
## 3_8  0 0 0 0 0  0  0  0  0  0  0  0
## 3_17 0 0 0 0 0  0  0  0  0  0  0  0
## 3_19 0 0 0 0 0  0  0  0  0  0  0  0
## 3_4  0 0 0 0 0  0  0  0  0  0  0  0
## 3_6  0 0 0 0 0  0  0  0  0  0  0  0
## 3_11 0 0 0 0 0  0  0  0  0  0  0  0
## 3_3  0 0 0 0 0  0  0  0  0  0  0  0
## 3_1  0 0 0 0 0  0  0  0  0  0  0  0
## 3_12 0 0 0 0 0  0  0  0  0  0  0  0
## 3_2  0 0 0 0 0  0  0  0  0  0  0  0
## 3_5  0 0 0 0 0  0  0  0  0  0  0  0
## 3_14 0 0 0 0 0  0  0  0  0  0  0  0
## 3_7  0 0 0 0 0  0  0  0  0  0  0  0
## 3_24 0 0 0 0 0  0  0  0  0  0  0  0
## 3_30 0 0 0 0 0  0  0  0  0  0  0  0
## 3_22 0 0 0 0 0  0  0  0  0  0  0  0
## 3_23 0 0 0 0 0  0  0  0  0  0  0  0
## 3_27 0 0 0 0 0  0  0  0  0  0  0  0
## 3_28 0 0 0 0 0  0  0  0  0  0  0  0
## 3_26 0 0 0 0 0  0  0  0  0  0  0  0
## 3_25 0 0 0 0 0  0  0  0  0  0  0  0
## 3_29 0 0 0 0 0  0  0  0  0  0  0  0
## 3_21 0 0 0 0 0  0  0  0  0  0  0  0
## 3_33 1 1 1 1 1  1  1  1  1  1  1  1
## 3_37 1 1 1 1 1  1  1  1  1  1  1  1
## 3_36 1 1 1 1 1  1  1  1  1  1  1  1
## 3_31 1 1 1 1 1  1  1  1  1  1  1  1
## 3_39 1 1 1 1 1  1  1  1  1  1  1  1
## 3_38 1 1 1 1 1  1  1  1  1  1  1  1
## 3_32 1 1 1 1 1  1  1  1  1  1  1  1
## 3_40 1 1 1 1 1  1  1  1  1  1  1  1
## 3_34 1 1 1 1 1  1  1  1  1  1  1  1
## 3_35 1 1 1 1 1  1  1  1  1  1  1  1
## 3_44 0 0 0 0 0  0  0  0  0  0  0  0
## 3_45 0 0 0 0 0  0  0  0  0  0  0  0
## 3_43 0 0 0 0 0  0  0  0  0  0  0  0
## 3_41 0 0 0 0 0  0  0  0  0  0  0  0
## 3_47 0 0 0 0 0  0  0  0  0  0  0  0
## 3_49 0 0 0 0 0  0  0  0  0  0  0  0
## 3_46 0 0 0 0 0  0  0  0  0  0  0  0
## 3_50 0 0 0 0 0  0  0  0  0  0  0  0
## 3_42 0 0 0 0 0  0  0  0  0  0  0  0
## 3_48 0 0 0 0 0  0  0  0  0  0  0  0
## 4_18 0 0 0 0 0  0  0  0  0  0  0  0
## 4_16 0 0 0 0 0  0  0  0  0  0  0  0
## 4_15 0 0 0 0 0  0  0  0  0  0  0  0
## 4_13 0 0 0 0 0  0  0  0  0  0  0  0
## 4_9  0 0 0 0 0  0  0  0  0  0  0  0
## 4_20 0 0 0 0 0  0  0  0  0  0  0  0
## 4_10 0 0 0 0 0  0  0  0  0  0  0  0
## 4_8  0 0 0 0 0  0  0  0  0  0  0  0
## 4_17 0 0 0 0 0  0  0  0  0  0  0  0
## 4_19 0 0 0 0 0  0  0  0  0  0  0  0
## 4_4  0 0 0 0 0  0  0  0  0  0  0  0
## 4_6  0 0 0 0 0  0  0  0  0  0  0  0
## 4_11 0 0 0 0 0  0  0  0  0  0  0  0
## 4_3  0 0 0 0 0  0  0  0  0  0  0  0
## 4_1  0 0 0 0 0  0  0  0  0  0  0  0
## 4_12 0 0 0 0 0  0  0  0  0  0  0  0
## 4_2  0 0 0 0 0  0  0  0  0  0  0  0
## 4_5  0 0 0 0 0  0  0  0  0  0  0  0
## 4_14 0 0 0 0 0  0  0  0  0  0  0  0
## 4_7  0 0 0 0 0  0  0  0  0  0  0  0
## 4_24 0 0 0 0 0  0  0  0  0  0  0  0
## 4_30 0 0 0 0 0  0  0  0  0  0  0  0
## 4_22 0 0 0 0 0  0  0  0  0  0  0  0
## 4_23 0 0 0 0 0  0  0  0  0  0  0  0
## 4_27 0 0 0 0 0  0  0  0  0  0  0  0
## 4_28 0 0 0 0 0  0  0  0  0  0  0  0
## 4_26 0 0 0 0 0  0  0  0  0  0  0  0
## 4_25 0 0 0 0 0  0  0  0  0  0  0  0
## 4_29 0 0 0 0 0  0  0  0  0  0  0  0
## 4_21 0 0 0 0 0  0  0  0  0  0  0  0
## 4_33 0 0 0 0 0  0  0  0  0  0  0  0
## 4_37 0 0 0 0 0  0  0  0  0  0  0  0
## 4_36 0 0 0 0 0  0  0  0  0  0  0  0
## 4_31 0 0 0 0 0  0  0  0  0  0  0  0
## 4_39 0 0 0 0 0  0  0  0  0  0  0  0
## 4_38 0 0 0 0 0  0  0  0  0  0  0  0
## 4_32 0 0 0 0 0  0  0  0  0  0  0  0
## 4_40 0 0 0 0 0  0  0  0  0  0  0  0
## 4_34 0 0 0 0 0  0  0  0  0  0  0  0
## 4_35 0 0 0 0 0  0  0  0  0  0  0  0
## 4_44 1 1 1 1 1  1  1  1  1  1  0  0
## 4_45 1 1 1 1 1  1  1  1  1  1  1  1
## 4_43 1 1 1 1 1  1  1  1  1  1  1  1
## 4_41 1 1 1 1 1  1  1  1  1  1  1  1
## 4_47 1 1 1 1 1  1  1  1  1  1  1  1
## 4_49 1 1 1 1 1  1  1  1  1  1  1  1
## 4_46 1 1 1 1 1  1  1  1  1  1  1  1
## 4_50 1 1 1 1 1  1  1  1  1  1  1  1
## 4_42 1 1 1 1 1  1  1  1  1  1  1  1
## 4_48 1 1 1 1 1  1  1  1  1  1  1  1
## 
## cast&gt; #Tips example
## cast&gt; dcast(melt(tips), sex ~ smoker, mean, subset = .(variable == "total_bill"))
</code></pre>

<pre><code>## Using sex, smoker, day, time as id variables
</code></pre>

<pre><code>##      sex       No      Yes
## 1 Female 18.10519 17.97788
## 2   Male 19.79124 22.28450
## 
## cast&gt; ff_d &lt;- melt(french_fries, id=1:4, na.rm=TRUE)
## 
## cast&gt; acast(ff_d, subject ~ time, length)
##     1  2  3  4  5  6  7  8  9 10
## 3  30 30 30 30 30 30 30 30 30  0
## 10 30 30 30 30 30 30 30 30 30 30
## 15 30 30 30 30 25 30 30 30 30 30
## 16 30 30 30 30 30 30 30 29 30 30
## 19 30 30 30 30 30 30 30 30 30 30
## 31 30 30 30 30 30 30 30 30  0 30
## 51 30 30 30 30 30 30 30 30 30 30
## 52 30 30 30 30 30 30 30 30 30 30
## 63 30 30 30 30 30 30 30 30 30 30
## 78 30 30 30 30 30 30 30 30 30 30
## 79 30 30 30 30 30 30 29 28 30  0
## 86 30 30 30 30 30 30 30 30  0 30
## 
## cast&gt; acast(ff_d, subject ~ time, length, fill=0)
##     1  2  3  4  5  6  7  8  9 10
## 3  30 30 30 30 30 30 30 30 30  0
## 10 30 30 30 30 30 30 30 30 30 30
## 15 30 30 30 30 25 30 30 30 30 30
## 16 30 30 30 30 30 30 30 29 30 30
## 19 30 30 30 30 30 30 30 30 30 30
## 31 30 30 30 30 30 30 30 30  0 30
## 51 30 30 30 30 30 30 30 30 30 30
## 52 30 30 30 30 30 30 30 30 30 30
## 63 30 30 30 30 30 30 30 30 30 30
## 78 30 30 30 30 30 30 30 30 30 30
## 79 30 30 30 30 30 30 29 28 30  0
## 86 30 30 30 30 30 30 30 30  0 30
## 
## cast&gt; dcast(ff_d, treatment ~ variable, mean, margins = TRUE)
##   treatment   potato  buttery    grassy   rancid   painty    (all)
## 1         1 6.887931 1.780087 0.6491379 4.065517 2.583621 3.194478
## 2         2 7.001724 1.973913 0.6629310 3.624569 2.455844 3.146413
## 3         3 6.967965 1.717749 0.6805195 3.866667 2.525541 3.151688
## 4     (all) 6.952518 1.823699 0.6641727 3.852230 2.521758 3.164218
## 
## cast&gt; dcast(ff_d, treatment + subject ~ variable, mean, margins="treatment")
##    treatment subject    potato   buttery     grassy    rancid     painty
## 1          1       3  6.216667 0.3722222 0.18888889 2.1055556 3.11111111
## 2          1      10  9.955000 6.7500000 0.58500000 4.0200000 1.37500000
## 3          1      15  3.360000 0.7200000 0.42000000 3.9650000 3.26000000
## 4          1      16  6.495000 3.2600000 0.75500000 4.1200000 1.23000000
## 5          1      19  9.385000 3.0550000 2.02000000 5.3600000 2.77500000
## 6          1      31  8.844444 0.4444444 0.08888889 5.9444444 3.21111111
## 7          1      51 10.675000 2.6400000 1.05000000 5.1500000 1.95500000
## 8          1      52  5.060000 0.8050000 0.87500000 4.2850000 2.64500000
## 9          1      63  6.775000 0.0250000 0.00000000 6.0550000 3.85500000
## 10         1      78  3.620000 0.7350000 0.54000000 1.5050000 3.49000000
## 11         1      79  8.061111 0.2823529 0.34444444 0.5666667 0.00000000
## 12         1      86  4.183333 1.7722222 0.80555556 5.4944444 4.10555556
## 13         2       3  6.738889 0.5888889 0.10555556 3.1388889 2.47777778
## 14         2      10  9.995000 6.9800000 0.47500000 2.1500000 0.82000000
## 15         2      15  4.405000 1.3150000 0.34000000 2.2850000 2.06000000
## 16         2      16  6.450000 3.3736842 1.05500000 3.4000000 0.45500000
## 17         2      19  8.640000 2.4500000 1.13500000 5.4050000 4.15500000
## 18         2      31  8.033333 0.6166667 0.15555556 6.0500000 5.06111111
## 19         2      51  9.985000 3.7950000 1.57000000 4.6700000 2.25500000
## 20         2      52  5.515000 1.0250000 1.18000000 4.2250000 2.19500000
## 21         2      63  8.415000 0.1050000 0.01000000 5.0900000 4.35500000
## 22         2      78  3.780000 0.2950000 0.75500000 1.5500000 2.72500000
## 23         2      79  7.938889 0.6941176 0.25555556 1.0333333 0.00000000
## 24         2      86  3.994444 2.0611111 0.78333333 4.5222222 2.84444444
## 25         3       3  5.294444 0.7666667 0.09444444 2.8555556 2.86666667
## 26         3      10 10.030000 6.4500000 0.14500000 3.1100000 0.69000000
## 27         3      15  3.963158 0.9894737 0.44210526 2.5473684 2.36842105
## 28         3      16  6.860000 2.7000000 1.12500000 3.2000000 0.55500000
## 29         3      19  8.740000 1.7250000 2.07000000 7.2400000 3.90500000
## 30         3      31  9.027778 0.6500000 0.17222222 6.5777778 5.12777778
## 31         3      51 10.220000 3.1300000 1.35000000 4.9150000 2.54500000
## 32         3      52  5.475000 0.8650000 0.76500000 3.1600000 2.66000000
## 33         3      63  8.060000 0.0650000 0.12500000 6.1850000 3.10000000
## 34         3      78  4.000000 0.7050000 0.66500000 1.1850000 3.52000000
## 35         3      79  7.733333 0.5722222 0.11666667 1.1777778 0.02777778
## 36         3      86  3.866667 1.6333333 0.94444444 4.1055556 3.02777778
## 37     (all)   (all)  6.952518 1.8236994 0.66417266 3.8522302 2.52175793
## 
## cast&gt; if (require("lattice")) {
## cast+  lattice::xyplot(`1` ~ `2` | variable, dcast(ff_d, ... ~ rep), aspect="iso")
## cast+ }
</code></pre>

<p><img src="figure/unnamed-chunk-2-1.png" alt="plot of chunk unnamed-chunk-2" /></p>

<h3>each</h3>

<pre><code class="r">each(min, max)(1:10)
</code></pre>

<p>来自plyr包，多个函数同时使用。</p>

<pre><code>## 
## each&gt; # Call min() and max() on the vector 1:10
## each&gt; each(min, max)(1:10)
</code></pre>

<pre><code>## Error: attempt to apply non-function
</code></pre>

<h3>.</h3>

<p>来自plyr包
  .变量名 = ‘变量名’， 不表示变量的值</p>

<h3>gc</h3>

<p>用于垃圾回收</p>

<h3>cSplit</h3>

<pre><code class="r">cSplit(indt, splitCols, sep = ",", direction = "wide", fixed = TRUE,
  drop = TRUE, stripWhite = TRUE, makeEqual = NULL, type.convert = TRUE)
</code></pre>

<p>来自splitstackshape包，将单元格的数据进行变长变宽操作.拆分单元格，并将其他单元格数据重复显示。
indt为输入变量，data.frame或data.table
splitCols 为操作的列，对此列中的单元格进行操作
seq  内容 -->


            <!-- <a href="/r/funSet.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>



<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="">

            <h4 class="post-title" style=''><a style='' href="/mysql/mysql%E5%AD%A6%E4%B9%A0.html">mysql 学习总结</a></h4>

            <p class="post-meta">By 04月23日  2015  
        <!--     <a
                    class="post-categorybut " href="/type/#mysql">mysql</a><a
                    class="post-category " > database</a><a
                    class="post-category " >  </a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#mysql">mysql</a><!-- <a
            class="post-category " href="/tag/#database"> database</a><a
            class="post-category " href="/tag/#">  </a> -->

            
           <a  class="post-category " title='标签' href="/tag/#database ">database</a>
    
            </p>
        </header>

        <div class="post-description" >
            <!-- <h3>mysql 查询结果建立新表</h3>

<p>create table table_name select * from  tab1;</p>

<h3>txt导入mysql</h3>

<p>load data infile 'D:\DeskTop\abc.txt' into table tab2
                               fields terminated by ';'
                               lines terminated by '\r\n';</p>

<h3>复制表结构</h3>

<p>CREATE TABLE t_1 LIKE db_1.t_1</p>

<h3>复制表数据</h3>

<p>INSERT table_name SELECT * FROM db_1.t_1//</p>

<h3>设置允许安全更新</h3>

<p>set sql_safe_updates=0;</p>

<h3>数据库 删除重复项:</h3>

<p>delete A from bdmol as A,(SELECT <code>mol_index</code>, <code>molid</code>, <code>bdid</code>, <code>bdname</code> FROM <code>bdmol</code> group by <code>molid</code>, <code>bdid</code>, <code>bdname</code> having count(1)>1 order by mol_index ) as B where A.mol_index>B.mol_index and A.molid=B.molid;</p>

<p>where col_name is null 而不是 col_name = null;
explain，设置主键、索引。</p>

<h3>根据一个表更新另一个表</h3>

<p> update tab1,tab2 set tab1.col1=tab2.col1 where tab1.col2=tab2.col2;</p>

<h3>根据一个表删除另一个表</h3>

<p> delete tab1 from tab1,tab2 where tab1.col1=tab2.col2;</p>

<h3>本地文件导入数据库:</h3>

<p>load data infile "E:\test\test.txt" into table tablename fields terminated by ',' # 字段分割符
lines terminated by '\r\n';</p>

<h3>导出数据库</h3>

<p>select * into outfile "E:\test\test.txt"  fields terminated by ',' lines terminated by '\r\n' from tablename;</p>

<h3>改变表中字段顺序。</h3>

<p>alter table tab_name change col_name col_name char(10) after col2_name;
alter table tab_name add column colname char(4); 增加新字段
alter table tab1 add column Cindex int  AUTO_INCREMENT   primary key first(第一列）；自增字段必须是主键。</p>
 内容 -->


            <!-- <a href="/mysql/mysql%E5%AD%A6%E4%B9%A0.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>



<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="">

            <h4 class="post-title" style=''><a style='' href="/r/dplyr-database.html">dplyr 数据库使用</a></h4>

            <p class="post-meta">By 04月23日  2015  
        <!--     <a
                    class="post-categorybut " href="/type/#r">r</a><a
                    class="post-category " > database</a><a
                    class="post-category " >  dplyr</a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#r">r</a><!-- <a
            class="post-category " href="/tag/#database"> database</a><a
            class="post-category " href="/tag/#dplyr">  dplyr</a> -->

            
           <a  class="post-category " title='标签' href="/tag/#database ">database</a>
    
           <a  class="post-category " title='标签' href="/tag/#dplyr ">dplyr</a>
    
            </p>
        </header>

        <div class="post-description" >
            <!-- 
 内容 -->


            <!-- <a href="/r/dplyr-database.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>



<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="">

            <h4 class="post-title" style=''><a style='' href="/r/R-parallel.html">R语言 并行处理</a></h4>

            <p class="post-meta">By 04月22日  2015  
        <!--     <a
                    class="post-categorybut " href="/type/#r">r</a><a
                    class="post-category " > parallel</a><a
                    class="post-category " >  foreach</a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#r">r</a><!-- <a
            class="post-category " href="/tag/#parallel"> parallel</a><a
            class="post-category " href="/tag/#foreach">  foreach</a> -->

            
           <a  class="post-category " title='标签' href="/tag/#parallel ">parallel</a>
    
           <a  class="post-category " title='标签' href="/tag/#foreach ">foreach</a>
    
           <a  class="post-category " title='标签' href="/tag/#doMC ">doMC</a>
    
            </p>
        </header>

        <div class="post-description" >
            <!-- <blockquote><p>具体的不懂，只记录实现</p></blockquote>

<h2>parallel package</h2>

<p>R自带的包，可以实现并行处理。</p>

<pre><code class="r">library(parallel)
detectCores(logical = F) #获得实际核数
cl &lt;- makeCluster(getOption("cl.cores", 4))  # 设置并行核数为4
clusterExport(cl=cl, varlist=c("text.var", "ntv", "gc.rate", "pos")) # 导入全局环境中的数据
clusterEvalQ(cl, require(lme4)) # 导入使用的包
# 开始计算
parSapply(cl, ...)
parLapply(cl, ...)
</code></pre>

<h2>foreach</h2>

<p>Revolution R 提供的包，需要选择doParallel包(windows, Linux, Mac OSX 均可) 或者 doMC包(只适用于Linux，Mac OSX)作为后台</p>

<h3>doParallel</h3>

<pre><code class="r">library(foreach)
library(doParallel)
cl &lt;- makeCluster(2)  # 设置并行核数
registerDoParallel(cl) # 注册并行
foreach(i=1:3) %dopar% sqrt(i) # 开始计算
</code></pre>

<blockquote><p>不知何故，在Mac OSX 下采用doParallel速度特别慢， 比不用并行还慢，于是又尝试了doMC</p></blockquote>

<h3>doMC</h3>

<pre><code class="r">library(foreach)
library(doMC)
registerDoMC(2) # 设置并行核数, 并注册并行
foreach(i=1:3) %dopar% sqrt(i) # 开始计算
</code></pre>

<p>可以通过下面命令，查看选择的后台包</p>

<pre><code class="r">getDoParRegistered()
getDoParWorkers()
getDoParName()
</code></pre>

<h2>plyr中的并行</h2>

<p>plyr中的并行程序采用foreach作为并行包， 所以在plyr中使用并行需完成上面提到的步骤。
以foreach，doMC包，ldply函数为例</p>

<pre><code class="r">library(foreach)
library(doMC)
registerDoMC(2) # 设置并行核数, 并注册并行
ldply(.data, .fun = NULL, ..., .progress = "none", .inform = FALSE,
  .parallel = T, .paropts = list(.export = c('your_data'), .packages=c('your_package') ), .id = NA)
  # .parallel = T 开启并行
  # .paropts = list(.export, .packages) 这是一个list， 里面的.export(导入用到的数据)， .package(导入需要的包)都是foreach：：foreach（）中的参数，可以??foreach 查看具体细节
</code></pre>
 内容 -->


            <!-- <a href="/r/R-parallel.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>



<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="http://cangfengzhe.github.io/img/">

            <h4 class="post-title" style=''><a style='' href="/r/ggplot2.html">ggplot2 学习</a></h4>

            <p class="post-meta">By 04月15日  2015  
        <!--     <a
                    class="post-categorybut " href="/type/#r">r</a><a
                    class="post-category " > R</a><a
                    class="post-category " >  函数</a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#r">r</a><!-- <a
            class="post-category " href="/tag/#R"> R</a><a
            class="post-category " href="/tag/#函数">  函数</a> -->

            
           <a  class="post-category " title='标签' href="/tag/#R ">R</a>
    
           <a  class="post-category " title='标签' href="/tag/#函数 ">函数</a>
    
            </p>
        </header>

        <div class="post-description" >
            <!-- <p><code>theme(axis.text.x=element_text(angle=90, size=8, vjust=0.8))</code>
旋转x轴标题</p>

<p><code>theme(plot.margin = unit(c(0.1, 0, 0, 0),"cm"))</code>
为图片设置margin， 顺序遵循 上右下左</p>

<pre><code class="r">library(gridExtra)
grid.arrange(g1, g2, g3, g4, main, sub, left)
</code></pre>

<p>合并多个ggplot2的图片并可以设置main, sub, left等标题。</p>

<p>标题可以通过<code>textGrob</code>设置格式
<code>main &lt;- textGrob('title', gp=gpar(cex = 1.2), vjust = 1)</code></p>

<h3>条形图实例，原始数据并没有提供</h3>

<pre><code class="r">g &lt;- ggplot(data = data, aes_string(x = colname)) +  # colname 为字符串，可以用aes_string() 进行转换
  geom_bar(aes(fill = factor(flag)), # 用到data中的数据，建立映射关系均要用到aes，fill表示填充，后面会设置具体的填充颜色，如不设置会采用系统默认，凡是表示分组都要转换为factor
            colour="white",  # colour设置边框的颜色， width 设置
            stat='bin',      # stat=‘bin’ 表示系统自行计算频数作为y轴， stat = 'identity'表示使用自己的数据作为y轴    
            #width = 0,      # 两个bar的间隔，当x轴为连续数据时不起作用
            binwidth = 0.3,  # 区段的长度， 计算该区段的频数
            na.rm = T        # 清除空值
            )  

g1 &lt;- g +
  theme_bw() +  #设置主题， 将背景作为白色
  scale_fill_manual(values = c('1' = color1, '0' = color2), name = 'value', labels = c('&lt;=-0.3 &amp; &gt;=0.3','&gt;-0.3 &amp; &lt;0.3')) + # 设置填充的方式，manual表示手动填充， 这里的‘1’和‘0’表示`fill=factor(flag)`中的levels， 那么为legend title， label 为legend标签
  theme(panel.grid.major = element_blank(), # 通过设置主题将 主（major）次（minor）网格线去掉
    panel.grid.minor = element_blank(),
    legend.position=c(0.85, 0.85))+      # 设置legend的位置，c(0,0)表示左下角， c(1,1)表示右上角
  scale_x_continuous(limits= c(-8, 3),   # 设置x轴， continuous表示数据为连续型，limits表示数据的范围
  breaks = seq(-8, 3, 1.5),  # breaks 表示刻度的表示
  expand = c(-0.05, 0))+     # 采用 stat=‘bin’会发现 左边，底边图不能对齐到轴线，采用expand可以进行设置，x轴设置了c(-0.05, 0),y轴设置了c(0, 0)这是做出的尝试， 并没有深究其原因
  scale_y_continuous(limits = c(0, 1500), expand = c(0, 0)) + # 同 scale_x_continuous
  xlab(title)+    # 设置x轴的标题
  ylab('number of molecules')  + # y轴的标题
  ggtitle('Distribution') + # 大标题
  theme( axis.title = element_text(size= 18),  # 设置轴标题，可以细致到 axis.title.x, axis.title.y
  axis.text = element_text(size = 14),      # 设置轴刻度
  legend.title = element_text(size = 12),   # 设置图例的标题
  legend.text = element_text(size = 12))    # 设置图例的项目
</code></pre>

<p><code>png("plot01.png", width=35, height=20, res=300, units = 'cm')</code>
导出png文件，单位为cm</p>

<pre><code class="r">scale_x_continuous(limits = c(-50, 50))  # 截取[-50, 50]的数据进行作图，改变了原始数据
coord_cartesian(xlim = c(-50, 50))       # 截取[-50, 50]的数据进行展示，原始数据不变
</code></pre>
 内容 -->


            <!-- <a href="/r/ggplot2.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>


<div class="pure-g pagination">
    
    <span class=" pure-u-1-2 pagination-item"><p>Newer</p></span>
    


    
    <a class=" pure-u-1-2 pagination-item" href="/page/2"><p>Older</p></a>
    
</div>








            </div>
            </div>
        <div class="footer">
                <!-- <a href="/love/welcome-my-blog.html">About</a>
                 <a href="/1">Collecting</a>
                <a href="tencent://message/?uin=78956287">QQ</a> -->
                <a href="https://github.com/cangfengzhe">GitHub</a>
            <script src="/js/min/nprogress.min.js"></script>
            <script src="/js/index.js"></script>
        </div>
        <div class="topfade"><a href="javascript:;" title="返回顶部"></a></div>

    </div>

</div>
	<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>

</html>
