<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="爱生活 爱小小白">
    <meta name="keywords" content=""/>
    <meta name="author" content="Pidong Li"> 
    <link rel="canonical" href="http://cangfengzhe.github.com/page/2/index.html">
    <link href="http://cangfengzhe.github.io/rss.xml" title="RSS 2.0" type="application/rss+xml" rel="alternate"/>
    <link href="/img/favicon.ico" rel="icon" type="image/x-icon">
    <title>爱生活 爱小小白</title>
    <link rel="stylesheet" href="/css/min/pure-min.css">
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/min/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/css/min/grids-responsive-min.css">
    <!--<![endif]-->

    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/JekyllPure-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/css/JekyllPure.css">
    <!--<![endif]-->

    <link href="/css/min/font-awesome.min.css" rel="stylesheet">
	<!-- <link href="/js/googleprettify/prettify.css" rel="stylesheet"> -->
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/min/font-awesome-ie7.min.css">
    <![endif]-->
    <script src="/js/min/jquery-1.7.2.min.js"></script>
<link rel="stylesheet" href="/js/styles/railscasts.css">


    <!--
     /\_ \    __                         /\ \                __
     \//\ \  /\_\  __  __    ___   __  __\ \ \___      __   /\_\
       \ \ \ \/\ \/\ \/\ \  / __`\/\ \/\ \\ \  _ `\  /'__`\ \/\ \
        \_\ \_\ \ \ \ \_\ \/\ \L\ \ \ \_\ \\ \ \ \ \/\ \L\.\_\ \ \
        /\____\\ \_\/`____ \ \____/\ \____/ \ \_\ \_\ \__/.\_\\ \_\
        \/____/ \/_/`/___/> \/___/  \/___/   \/_/\/_/\/__/\/_/ \/_/
                       /\___/
                       \/__/
     图像可以到http://asciigen.com/  生成..记得翻墙才能正常生成.如不方便可以博客留言我帮你生成
     -->
</head>

<body>







<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <div class="headerpic">
                <a href="/">
                    <img src="/img/lovexinyu.png" alt="Profile Picture" style="width: 140px;" title="返回首页">
                </a>
            </div>
            <h2 class="brand-title" style='margin:5px 0;'>爱生活 爱小小白</h2>
            <h3 class="brand-tagline">静能寒窗苦守，动能点石成金</h3>

            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="pure-button" href="/Timing">时间轴</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="pure-button" href="/type">分  类</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="/tag">标  签</a>
                    </li>
             <!--        <li class="nav-item">
                 <a class="pure-button" href="/type">收  藏</a>
                                 </li> -->
                </ul>
            </nav>
            <div class="search">
                <form action="/search">
                    <input type="text" class="search-query" placeholder="Search Blog" name="query" title="全站搜索-只支持英文">
                </form>
            </div>
            <div id="toc"></div>
            <nav id="nav">
                <ul class="nav-list">
                    <!-- <li class="nav-link">
                    <a class="weibo "  href="http://weibo.com/localhost0000" ><i class="fa fa-weibo fa-2x"></i></a>
                    </li> -->
                    <li class="nav-link">
                    <a class="github" href="https://github.com/cangfengzhe"><i class="fa fa-github fa-2x"></i></a>
                    </li>
                    
                    
                     <li class="nav-link">
                    <a class="rss" href="/rss.xml" ><i class="fa fa-rss fa-2x"></i></a>
                    </li>
					<p style='margin:0 0;padding:0 0;text-align:left;'>E-mail: hope-dream@163.com</p>
                </ul>
            </nav>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4" style='padding-left:0'>
      
        <div>
            <div class="posts" >

                

<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="">

            <h4 class="post-title" style=''><a style='' href="/r/R-Package.html">R packages</a></h4>

            <p class="post-meta">By 04月02日  2015  
        <!--     <a
                    class="post-categorybut " href="/type/#r">r</a><a
                    class="post-category " > package</a><a
                    class="post-category " >  </a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#r">r</a><!-- <a
            class="post-category " href="/tag/#package"> package</a><a
            class="post-category " href="/tag/#">  </a> -->

            
           <a  class="post-category " title='标签' href="/tag/#package ">package</a>
    
            </p>
        </header>

        <div class="post-description" >
            <!-- <h1>R pacakge</h1>

<h2>dplyr</h2>

<p>数据处理神器， plyr的升级版，主要用于数据框，可以实现与数据库的快速交互。</p>

<h2>data.table</h2>

<p>读取文件，处理数据，速度比python，dplyr还要快。 就是语法上有些凌乱。</p>

<h2>reshape2， tidyr</h2>

<p>揉数据的法宝，将数据以不同的形式展现，列数由多变少， tidyr 是 reshape2 的升级版，主要用于数据框。</p>

<h2>readr</h2>

<p>2015-04-09 readr 发布，同样是dplyr的作者写的包，包括read_csv, read_delim速度比传统的read.csv, read.delim更快</p>

<h2>httr</h2>

<p>采用了RCurl，可以更快速的访问网络， 提供了 GET, POST, cookie等设置</p>

<h2>rvest</h2>

<p>rvest用于爬取网络数据， 对网络数据进行分析，有点jquery的意思， 类似于python中的 beautiful soup</p>

<h2>splitstackshape</h2>

<p>Stack and Reshape Datasets After Splitting Concatenated Values， 数据分割重组的利器。 其中的cSplit函数可以将单元格中以特殊字符合并的字符串进行分割，分割后增加行或列。</p>
 内容 -->


            <!-- <a href="/r/R-Package.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>



<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="">

            <h4 class="post-title" style=''><a style='' href="/r/ff-package.html">R语言利用ff包读取大文本 大数据处理</a></h4>

            <p class="post-meta">By 02月12日  2015  
        <!--     <a
                    class="post-categorybut " href="/type/#r">r</a><a
                    class="post-category " > 大数据</a><a
                    class="post-category " >  ff package</a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#r">r</a><!-- <a
            class="post-category " href="/tag/#大数据"> 大数据</a><a
            class="post-category " href="/tag/#ff package">  ff package</a> -->

            
           <a  class="post-category " title='标签' href="/tag/#大数据 ">大数据</a>
    
           <a  class="post-category " title='标签' href="/tag/#ff package ">ff package</a>
    
            </p>
        </header>

        <div class="post-description" >
            <!-- <p>R语言中ff包可以读取大文本将变量写入硬盘进行操作(最大读过2G的文本),并与ffbase包一起完成对大数据的处理.ffdf类型与data.frame一致, 也就是说可以操作data.frame的函数都可以操作ffdf类型(dplyr不行),同时可以利用as.data.frame转换为data.frame类型.</p>

<h2>read.delim.ffdf函数</h2>

<pre><code class="r">            library(ff)
            read.delim.ffdf(x=NULL, #这一点很重要, 一定要加, 每次读取数据都要附加到x变量上
                            './yourfile/path',#文件名
                            header = F, #是否有标题
                            skip = 0,# 忽略前多少行
                            first.rows = NULL,#ff是分批处理文件, 第一批处理的行数,默认1000行
                             next.rows = NULL,#后面处理的行数
                             fill = false, #如果每一行的列数不同选择fill=T,会解决这一点,将缺失数据填充为NULL
                             transFUN=function(x){ #这是一个很强大的函数,在返回变量之前进行数据修改 过滤,减少内存占用
                              tryCatch({
                               x[which(x[,1]=='9606'),c(1,2,6,8,16)] #只要第一列为9606的第1,2,6,8,16列数据,其他省略减少内存开支, 但是这里存在问题,就是第一批数据必须要有9606,还没有其他解决办法
                              }, error = function(e){
                                 print(e)
                              })

                            },
                            VERBOSE = T  #是否列出运行提示
                            #更多参数请 ?read.delim.ffdf
                            )
</code></pre>

<h2>错误解决</h2>

<blockquote><p>Error in read.delim.ffdf("file path", fill = TRUE) :
  only ffdf objects can be used for appending (and skipping the first.row chunk)</p></blockquote>

<p>出现这种错误是因为<code>read.delim.ffdf</code>与<code>read.delim</code>的机制并不同,read.delim是一次性读完, 而read.delim.ffdf是分批读取然后附加到前面的数据上,错误 提示中的ffdf objects can be used for appending就是说要附加的意思. 既然谈到附加(append)也就是运行函数之前必须有变量存在, 如果没有变量存在必须用<code>x=NULL</code>这个参数,如果不用就会出现上面的错误. 这一点国外很多论坛都没有给出正确的解释.</p>

<h2>ffsave</h2>

<pre><code class="r">        ffsave(...,
         list = character(0L),
         file = stop("'file' must be specified"),
         envir = parent.frame(),
         rootpath = NULL,
         add = FALSE,

         move = FALSE,
         compress = !move,
         compression_level = 6,
         precheck=TRUE
        )

        ffsave.image(file = stop("'file' must be specified"), safe = TRUE, ...)
</code></pre>

<p>与save函数 save.image函数一致</p>

<h2>ffload函数</h2>

<pre><code class="r">        ffload(file, list = character(0L), envir = parent.frame()
            , rootpath = NULL, overwrite = FALSE)
</code></pre>

<p>这个函数与<code>load</code>函数一样,从文件中加载ff变量, 有一点需要特别注意就是如果同名ff变量已经存在,必须设置参数<code>overwrite = T</code>,否则函数不起作用</p>
 内容 -->


            <!-- <a href="/r/ff-package.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>



<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="">

            <h4 class="post-title" style=''><a style='' href="/javascript/javascript.html">javascript 笔记</a></h4>

            <p class="post-meta">By 01月09日  2015  
        <!--     <a
                    class="post-categorybut " href="/type/#javascript">javascript</a><a
                    class="post-category " > web</a><a
                    class="post-category " >  笔记</a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#javascript">javascript</a><!-- <a
            class="post-category " href="/tag/#web"> web</a><a
            class="post-category " href="/tag/#笔记">  笔记</a> -->

            
           <a  class="post-category " title='标签' href="/tag/#web ">web</a>
    
           <a  class="post-category " title='标签' href="/tag/#笔记 ">笔记</a>
    
           <a  class="post-category " title='标签' href="/tag/#努力 ">努力</a>
    
            </p>
        </header>

        <div class="post-description" >
            <!-- <h3>javascript中使用php变量</h3>

<p>javascript中使用php变量,需用引号引起,作为字符串使用</p>

<pre><code class="javascript"> var url = 'data.php?table='+ "&lt;?php echo $_GET['type']; ?&gt;" + '&amp;q=' + "&lt;?php echo $_GET['name']; ?&gt;";
</code></pre>

<h3>窗口大小改变时,模块乱跑</h3>

<ol>
<li>width不能用百分比</li>
<li>如果用float注意宽度是否</li>
<li>position的问题</li>
</ol>

 内容 -->


            <!-- <a href="/javascript/javascript.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>



<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="">

            <h4 class="post-title" style=''><a style='' href="/paper/Systematic%20identification%20of%20genomic.html">Systematic identification of genomic markers of drug sensitivity in cancer cells</a></h4>

            <p class="post-meta">By 01月07日  2015  
        <!--     <a
                    class="post-categorybut " href="/type/#paper">paper</a><a
                    class="post-category " > drug resistance</a><a
                    class="post-category " >  努力</a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#paper">paper</a><!-- <a
            class="post-category " href="/tag/#drug resistance"> drug resistance</a><a
            class="post-category " href="/tag/#努力">  努力</a> -->

            
           <a  class="post-category " title='标签' href="/tag/#drug resistance ">drug resistance</a>
    
           <a  class="post-category " title='标签' href="/tag/#努力 ">努力</a>
    
            </p>
        </header>

        <div class="post-description" >
            <!-- <h3>Systematic identification of genomic markers of drug sensitivity in cancer cells</h3>

<h3>系统地确定癌症细胞中药物敏感性的基因组marker</h3>

<h3>Abstract</h3>

<p>癌症治疗的效果常常局限于病人的癌症亚型.很多情况下,突变的癌症基因是相应癌症药物的潜在生物标记.这里我们发现了新的药物治疗的敏感和抗性的biomarker.在130个临床和临床前的药物中,筛选了几百个药物细胞系,代表了人类癌症的组织类型和基因差异. 总的来说,我们发现突变的基因与细胞对药物的响应有关系.典型的致癌基因范例被另外的组织特异性和表达的生物标记所修改,很多高频的突变基因与治疗药物的敏感浓度范围有关.意想不到的的关系被发现,包括敏感于PARP抑制剂的尤文氏肉瘤细胞包庇??了EWS-FLI1基因. 通过联系药物活性和癌症基因组功能的复杂性,癌症细胞系系统的药理学谱提供了一个强大的生物标记发现平台去指导发现癌症治疗新策略.</p>

<h3>introduction</h3>

<h3>治疗靶点的发现</h3>

<p>639个癌症细胞系<br/>
64个癌症基因 外显子测序,使用Affymetrix SNP6.0,全基因组分析拷贝数的增加或减少. Affymetrix HT-U133A microarrays分析了14500个基因.
研究了7个基因的微卫星不稳定性.
130个药物
72个小时的药物治疗,多个参数描述药物的敏感性包括IC50和药物计量曲线. 48178个药物-细胞系的组合.
基于IC50值的化合物聚类,表明重叠特异性的药物高度相关,支持了生物结果的选择性.</p>

<p>来自一个特定组织的肿瘤共享相同的突变.基于IC50的值,确定了癌症组织的类型和药物敏感性.特异癌症的类型敏感性与癌症基因的突变有关.癌症类型对药物的敏感性通过所属细胞系的计算来说明, 比如骨髓瘤细胞对lenalidomide的敏感性是通过骨髓瘤的3个细胞系对应的IC50与非骨髓瘤的455个细胞系的IC50进行比较确定其对药物是否敏感.</p>

<h3>癌症基因是药物敏感性的生物标记</h3>

<p>单基因突变越来越多地被接受作为临床生物标记来最优化癌症的治疗. 为了确定癌症基因突变与药物敏感性,采用了包括IC50和剂量-响应曲线的多元统计分析. 不同的癌症基因突变与药物敏感和抗性的作用范围有关, 表明基因组的生物标记能够解释癌症药物治疗的选择性.</p>

<p>同样发现,非激活抑癌基因突变也与药物有关,抑癌基因与细胞机制的相互作用调节药物敏感性.</p>

<p>基因组的联系与特定癌症类型的突变富集有关. obatoclax(靶向BCL2家族康凋亡蛋白促细胞凋亡药物)敏感的BRAF和NRAS突变之间的联系可能因为这些突变在黑素瘤上富集,导致药物对黑素瘤的敏感性与这些突变的存在与否无关. obatoclax的组织特异性效果与黑素瘤生存调节因子(MCL1)有关, 因为黑素瘤细胞系对ABT-263(另一个BCL2抑制剂并不靶向MCL1)的敏感性与BRAF或NRAS突变无关.</p>

<h3>药物敏感性的复杂基因组联系</h3>

<p>少量的特征被反复循环与对不同类药物的敏感性的改变相联系,表明他们通过诸如药物流出的不同机制来调节药物敏感性. 为了更好的理解这些数据,映射了弹性网药物特征到药物靶点和已知的癌症基因. 这些结果说明 与突变 细胞系 细胞分化状态和细胞通路相关的多特征的基因组标签整合标记有很大的潜力去扩展和精炼当前药物敏感性的理解.</p>

<h3>EWS-FLI1是PARP抑制剂的生物标记</h3>

<p>EWS-FLI1基因重排是尤因氏肉瘤肿瘤的特征,对olaparib敏感(PARP抑制剂)</p>

<h3>discussion</h3>

<p>高通量的筛选药物敏感性的癌症细胞系为确定合适的癌症亚型和biomarker提供了新思路,可以指导多个新化合物的临床早期试验.</p>
 内容 -->


            <!-- <a href="/paper/Systematic%20identification%20of%20genomic.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>



<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="http://cangfengzhe.github.io/img/">

            <h4 class="post-title" style=''><a style='' href="/r/advR_vocabulary.html">The Vocabulary in Advanced R by Hadley Wickham</a></h4>

            <p class="post-meta">By 12月30日  2014  
        <!--     <a
                    class="post-categorybut " href="/type/#r">r</a><a
                    class="post-category " > Advanced R</a><a
                    class="post-category " >  </a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#r">r</a><!-- <a
            class="post-category " href="/tag/#Advanced R"> Advanced R</a><a
            class="post-category " href="/tag/#">  </a> -->

            
           <a  class="post-category " title='标签' href="/tag/#Advanced R ">Advanced R</a>
    
            </p>
        </header>

        <div class="post-description" >
            <!-- <p>Hadley Wickham 前辈写的Advanced R中提到了部分常见的Vocabulary，现在对这些常见的函数进行了解，只做简单的解释，如需深入请<code>help()</code>。</p>

<h2>Basic</h2>

<h3><code>?</code></h3>

<p>提供帮助相当于<code>help()</code></p>

<hr />

<h3><code>str</code></h3>

<p>简单的展示对象的结构,可用于任何R对象、函数.拿到一个R对象都可以用`str'进行探索性分析，有点类似与summary。</p>

<p>example</p>

<pre><code class="r">str(1:12)
</code></pre>

<pre><code>##  int [1:12] 1 2 3 4 5 6 7 8 9 10 ...
</code></pre>

<pre><code class="r">str( lsfit(1:9, 1:9))
</code></pre>

<pre><code>## List of 4
##  $ coefficients: Named num [1:2] 1.18e-15 1.00
##   ..- attr(*, "names")= chr [1:2] "Intercept" "X"
##  $ residuals   : num [1:9] -9.01e-16 1.72e-15 -2.47e-16 -2.25e-16 -2.03e-16 ...
##  $ intercept   : logi TRUE
##  $ qr          :List of 6
##   ..$ qt   : num [1:9] -1.50e+01 7.75 -2.22e-16 0.00 2.22e-16 ...
##   ..$ qr   : num [1:9, 1:2] -3 0.333 0.333 0.333 0.333 ...
##   .. ..- attr(*, "dimnames")=List of 2
##   .. .. ..$ : NULL
##   .. .. ..$ : chr [1:2] "Intercept" "X"
##   ..$ qraux: num [1:2] 1.33 1.26
##   ..$ rank : int 2
##   ..$ pivot: int [1:2] 1 2
##   ..$ tol  : num 1e-07
##   ..- attr(*, "class")= chr "qr"
</code></pre>

<pre><code class="r">str( lsfit(1:9, 1:9), max.level = 1)
</code></pre>

<pre><code>## List of 4
##  $ coefficients: Named num [1:2] 1.18e-15 1.00
##   ..- attr(*, "names")= chr [1:2] "Intercept" "X"
##  $ residuals   : num [1:9] -9.01e-16 1.72e-15 -2.47e-16 -2.25e-16 -2.03e-16 ...
##  $ intercept   : logi TRUE
##  $ qr          :List of 6
##   ..- attr(*, "class")= chr "qr"
</code></pre>

<pre><code class="r">str( lsfit(1:9, 1:9), width = 60, strict.width = "cut")
</code></pre>

<pre><code>## List of 4
##  $ coefficients: Named num [1:2] 1.18e-15 1.00
##   ..- attr(*, "names")= chr [1:2] "Intercept" "X"
##  $ residuals   : num [1:9] -9.01e-16 1.72e-15 -2.47e-16 -2..
##  $ intercept   : logi TRUE
##  $ qr          :List of 6
##   ..$ qt   : num [1:9] -1.50e+01 7.75 -2.22e-16 0.00 2.22e..
##   ..$ qr   : num [1:9, 1:2] -3 0.333 0.333 0.333 0.333 ...
##   .. ..- attr(*, "dimnames")=List of 2
##   .. .. ..$ : NULL
##   .. .. ..$ : chr [1:2] "Intercept" "X"
##   ..$ qraux: num [1:2] 1.33 1.26
##   ..$ rank : int 2
##   ..$ pivot: int [1:2] 1 2
##   ..$ tol  : num 1e-07
##   ..- attr(*, "class")= chr "qr"
</code></pre>

<pre><code class="r">str( lsfit(1:9, 1:9), width = 60, strict.width = "wrap")
</code></pre>

<pre><code>## List of 4
## $ coefficients: Named num [1:2] 1.18e-15 1.00
## ..- attr(*, "names")= chr [1:2] "Intercept" "X"
## $ residuals : num [1:9] -9.01e-16 1.72e-15 -2.47e-16
##    -2.25e-16 -2.03e-16 ...
## $ intercept : logi TRUE
## $ qr :List of 6
## ..$ qt : num [1:9] -1.50e+01 7.75 -2.22e-16 0.00 2.22e-16
##    ...
## ..$ qr : num [1:9, 1:2] -3 0.333 0.333 0.333 0.333 ...
## .. ..- attr(*, "dimnames")=List of 2
## .. .. ..$ : NULL
## .. .. ..$ : chr [1:2] "Intercept" "X"
## ..$ qraux: num [1:2] 1.33 1.26
## ..$ rank : int 2
## ..$ pivot: int [1:2] 1 2
## ..$ tol : num 1e-07
## ..- attr(*, "class")= chr "qr"
</code></pre>

<pre><code class="r">op &lt;- options(); str(op) 
</code></pre>

<pre><code>## List of 68
##  $ add.smooth           : logi TRUE
##  $ browser              :function (url)  
##  $ browserNLdisabled    : logi FALSE
##  $ buildtools.check     :function (action)  
##  $ buildtools.with      :function (code)  
##  $ CBoundsCheck         : logi FALSE
##  $ check.bounds         : logi FALSE
##  $ citation.bibtex.max  : num 1
##  $ continue             : chr "+ "
##  $ contrasts            : Named chr [1:2] "contr.treatment" "contr.poly"
##   ..- attr(*, "names")= chr [1:2] "unordered" "ordered"
##  $ defaultPackages      : chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
##  $ demo.ask             : chr "default"
##  $ deparse.cutoff       : int 60
##  $ device               :function (width = 7, height = 7, ...)  
##  $ device.ask.default   : logi FALSE
##  $ digits               : int 7
##  $ dplyr.print_max      : int 100
##  $ dplyr.print_min      : int 10
##  $ dplyr.strict_sql     : logi FALSE
##  $ echo                 : logi TRUE
##  $ editor               :function (name, file, title)  
##  $ encoding             : chr "native.enc"
##  $ error                : language (structure(function ()  { ...
##  $ example.ask          : chr "default"
##  $ expressions          : int 5000
##  $ ggvis.renderer       : chr "svg"
##  $ help.search.types    : chr [1:3] "vignette" "demo" "help"
##  $ help.try.all.packages: logi FALSE
##  $ help_type            : chr "html"
##  $ HTTPUserAgent        : chr "R (3.1.2 x86_64-w64-mingw32 x86_64 mingw32)"
##  $ internet.info        : num 2
##  $ keep.source          : logi TRUE
##  $ keep.source.pkgs     : logi FALSE
##  $ knitr.in.progress    : logi TRUE
##  $ locatorBell          : logi TRUE
##  $ mailer               : chr "mailto"
##  $ max.print            : int 10000
##  $ menu.graphics        : logi FALSE
##  $ na.action            : chr "na.omit"
##  $ nwarnings            : int 50
##  $ OutDec               : chr "."
##  $ pager                :function (files, header, title, delete.file)  
##  $ papersize            : chr "a4"
##  $ pdfviewer            : chr "d:/PROGRA~2/R/R-31~1.2/bin/x64/open.exe"
##  $ pkgType              : chr "win.binary"
##  $ prompt               : chr "&gt; "
##  $ repos                : atomic [1:2] http://mirrors.ustc.edu.cn/CRAN/ http://www.stats.ox.ac.uk/pub/RWin
##   ..- attr(*, "RStudio")= logi TRUE
##  $ restart              :function (afterRestartCommand = "")  
##  $ scipen               : num 0
##  $ shiny.launch.browser :function (url)  
##   ..- attr(*, "shinyViewerType")= num 3
##  $ show.coef.Pvalues    : logi TRUE
##  $ show.error.messages  : logi TRUE
##  $ show.signif.stars    : logi TRUE
##  $ str                  :List of 3
##   ..$ strict.width: chr "no"
##   ..$ digits.d    : num 3
##   ..$ vec.len     : num 4
##  $ str.dendrogram.last  : chr "`"
##  $ stringsAsFactors     : logi TRUE
##  $ tikzMetricsDictionary: chr "2014-12-30-advR_vocabulary-tikzDictionary"
##  $ timeout              : num 60
##  $ ts.eps               : num 1e-05
##  $ ts.S.compat          : logi FALSE
##  $ unzip                : chr "internal"
##  $ useFancyQuotes       : logi FALSE
##  $ verbose              : logi FALSE
##  $ viewer               :function (url, height = NULL)  
##  $ warn                 : num 0
##  $ warning.length       : int 1000
##  $ width                : int 75
##  $ windowsTimeouts      : int [1:2] 100 500
</code></pre>

<pre><code class="r">## S4 classes :
require(stats4)
</code></pre>

<pre><code>## Loading required package: stats4
</code></pre>

<pre><code class="r">x &lt;- 0:10; y &lt;- c(26, 17, 13, 12, 20, 5, 9, 8, 5, 4, 8)
ll &lt;- function(ymax = 15, xh = 6)
      -sum(dpois(y, lambda=ymax/(1+x/xh), log=TRUE))
fit &lt;- mle(ll)
</code></pre>

<pre><code>## Warning in dpois(y, lambda = ymax/(1 + x/xh), log = TRUE): NaNs produced
</code></pre>

<pre><code class="r">str(fit)
</code></pre>

<pre><code>## Formal class 'mle' [package "stats4"] with 9 slots
##   ..@ call     : language mle(minuslogl = ll)
##   ..@ coef     : Named num [1:2] 24.99 3.06
##   .. ..- attr(*, "names")= chr [1:2] "ymax" "xh"
##   ..@ fullcoef : Named num [1:2] 24.99 3.06
##   .. ..- attr(*, "names")= chr [1:2] "ymax" "xh"
##   ..@ vcov     : num [1:2, 1:2] 17.85 -3.72 -3.72 1.07
##   .. ..- attr(*, "dimnames")=List of 2
##   .. .. ..$ : chr [1:2] "ymax" "xh"
##   .. .. ..$ : chr [1:2] "ymax" "xh"
##   ..@ min      : num 28.6
##   ..@ details  :List of 6
##   .. ..$ par        : Named num [1:2] 24.99 3.06
##   .. .. ..- attr(*, "names")= chr [1:2] "ymax" "xh"
##   .. ..$ value      : num 28.6
##   .. ..$ counts     : Named int [1:2] 25 18
##   .. .. ..- attr(*, "names")= chr [1:2] "function" "gradient"
##   .. ..$ convergence: int 0
##   .. ..$ message    : NULL
##   .. ..$ hessian    : num [1:2, 1:2] 0.203 0.706 0.706 3.388
##   .. .. ..- attr(*, "dimnames")=List of 2
##   .. .. .. ..$ : chr [1:2] "ymax" "xh"
##   .. .. .. ..$ : chr [1:2] "ymax" "xh"
##   ..@ minuslogl:function (ymax = 15, xh = 6)  
##   .. ..- attr(*, "srcref")=Class 'srcref'  atomic [1:8] 10 7 11 52 7 52 10 11
##   .. .. .. ..- attr(*, "srcfile")=Classes 'srcfilecopy', 'srcfile' &lt;environment: 0x0000000012cc0140&gt; 
##   ..@ nobs     : int NA
##   ..@ method   : chr "BFGS"
</code></pre>

<hr />

<h3><code>%in%</code></h3>

<p>二元运算符，功能上与match相近。返回一个逻辑值判断右边的对象是否包含左边的对象。
example</p>

<pre><code class="r">1:10 %in% c(1,3,5,9)
</code></pre>

<pre><code>##  [1]  TRUE FALSE  TRUE FALSE  TRUE FALSE FALSE FALSE  TRUE FALSE
</code></pre>

<pre><code class="r">sstr &lt;- c("c","ab","B","bba","c",NA,"@","bla","a","Ba","%")
sstr[sstr %in% c(letters, LETTERS)]
</code></pre>

<pre><code>## [1] "c" "B" "c" "a"
</code></pre>

<pre><code class="r">"%w/o%" &lt;- function(x, y) x[!x %in% y] #--  x without y
(1:10) %w/o% c(3,7,12)
</code></pre>

<pre><code>## [1]  1  2  4  5  6  8  9 10
</code></pre>

<hr />

<h3><code>match</code></h3>

<p>匹配函数，第一个参数与第二个参数进行匹配（二者共有），返回能够匹配上的对象在第二个参数中的位置。</p>

<p>example</p>

<pre><code class="r">match(c('a', 'z', 'b'), letters, nomatch = 0)
</code></pre>

<pre><code>## [1]  1 26  2
</code></pre>

<hr />

<h3><code>=</code> &amp; <code>&lt;-</code> &amp; <code>&lt;&lt;-</code></h3>

<p>赋值运算符，<code>&lt;-</code>可以被用于任何地方，而<code>=</code>只能用于命令行中的完整表达（不明白）或者参数赋值过程中。<code>&lt;&lt;-</code>一般用于函数内部，将局部变量变为函数变量。
example</p>

<pre><code class="r">a &lt;- b &lt;- c &lt;- 6
aa &lt;- 0
bb &lt;- 5
tmp &lt;- function(){
  aa &lt;- 1;
  bb &lt;&lt;- 2;
}

tmp()
print(aa)
</code></pre>

<pre><code>## [1] 0
</code></pre>

<pre><code class="r">print(bb)
</code></pre>

<pre><code>## [1] 2
</code></pre>

<hr />

<h3><code>$</code>&amp; <code>[</code>&amp;<code>[[</code></h3>

<p>以上3个操作符用于提取和取代对象中的元素</p>

<p>example</p>

<pre><code class="r">x &lt;- 1:12
m &lt;- matrix(1:6, nrow = 2, dimnames = list(c("a", "b"), LETTERS[1:3]))
li &lt;- list(pi = pi, e = exp(1))
x[10]                 # the tenth element of x
</code></pre>

<pre><code>## [1] 10
</code></pre>

<pre><code class="r">x &lt;- x[-1]            # delete the 1st element of x
m[1,]                 # the first row of matrix m
</code></pre>

<pre><code>## A B C 
## 1 3 5
</code></pre>

<pre><code class="r">m[1, , drop = FALSE]  # is a 1-row matrix
</code></pre>

<pre><code>##   A B C
## a 1 3 5
</code></pre>

<pre><code class="r">m[,c(TRUE,FALSE,TRUE)]# logical indexing
</code></pre>

<pre><code>##   A C
## a 1 5
## b 2 6
</code></pre>

<pre><code class="r">m[cbind(c(1,2,1),3:1)]# matrix numeric index
</code></pre>

<pre><code>## [1] 5 4 1
</code></pre>

<pre><code class="r">ci &lt;- cbind(c("a", "b", "a"), c("A", "C", "B"))
m[ci]                 # matrix character index
</code></pre>

<pre><code>## [1] 1 6 3
</code></pre>

<pre><code class="r">m &lt;- m[,-1]           # delete the first column of m
li[[1]]               # the first element of list li
</code></pre>

<pre><code>## [1] 3.141593
</code></pre>

<pre><code class="r">y &lt;- list(1, 2, a = 4, 5)
y[c(3, 4)]            # a list containing elements 3 and 4 of y
</code></pre>

<pre><code>## $a
## [1] 4
## 
## [[2]]
## [1] 5
</code></pre>

<pre><code class="r">y$a                   # the element of y named a
</code></pre>

<pre><code>## [1] 4
</code></pre>

<pre><code class="r">## non-integer indices are truncated:
(i &lt;- 3.999999999) # "4" is printed
</code></pre>

<pre><code>## [1] 4
</code></pre>

<pre><code class="r">(1:5)[i]  # 3
</code></pre>

<pre><code>## [1] 3
</code></pre>

<pre><code class="r">## named atomic vectors, compare "[" and "[[" :
nx &lt;- c(Abc = 123, pi = pi)
nx[1] ; nx["pi"] # keeps names, whereas "[[" does not:
</code></pre>

<pre><code>## Abc 
## 123
</code></pre>

<pre><code>##       pi 
## 3.141593
</code></pre>

<pre><code class="r">nx[[1]] ; nx[["pi"]]
</code></pre>

<pre><code>## [1] 123
</code></pre>

<pre><code>## [1] 3.141593
</code></pre>

<pre><code class="r">## recursive indexing into lists
z &lt;- list(a = list(b = 9, c = "hello"), d = 1:5)
unlist(z)
</code></pre>

<pre><code>##     a.b     a.c      d1      d2      d3      d4      d5 
##     "9" "hello"     "1"     "2"     "3"     "4"     "5"
</code></pre>

<pre><code class="r">z[[c(1, 2)]]
</code></pre>

<pre><code>## [1] "hello"
</code></pre>

<pre><code class="r">z[[c(1, 2, 1)]]  # both "hello"
</code></pre>

<pre><code>## [1] "hello"
</code></pre>

<pre><code class="r">z[[c("a", "b")]] &lt;- "new"
unlist(z)
</code></pre>

<pre><code>##     a.b     a.c      d1      d2      d3      d4      d5 
##   "new" "hello"     "1"     "2"     "3"     "4"     "5"
</code></pre>

<hr />

<h3><code>head</code> &amp; <code>tail</code></h3>

<p>获得数据头部或尾部的部分数据，默认显示6行，可设定参数n调整。n可以为负值表示逆向去除。</p>

<p>example</p>

<pre><code class="r">head(letters)
</code></pre>

<pre><code>## [1] "a" "b" "c" "d" "e" "f"
</code></pre>

<pre><code class="r">head(letters, n = -6L)
</code></pre>

<pre><code>##  [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q"
## [18] "r" "s" "t"
</code></pre>

<pre><code class="r">tail(letters, n = -3)
</code></pre>

<pre><code>##  [1] "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s" "t"
## [18] "u" "v" "w" "x" "y" "z"
</code></pre>

<hr />

<h3><code>subset</code></h3>

<p>筛选数据集
<code>subset(x, subset, select, drop = FALSE, ...)</code>
参数介绍
x 被处理的数据集
subset  筛选的标准,可根据数据的内容和行名进行选择
select  返回的数据列</p>

<blockquote><p>dplyr 包提供了filter函数,比之更为强大.</p></blockquote>

<p>example</p>

<pre><code class="r">library(dplyr)
subset(airquality, Temp &gt; 80, select = c(Ozone, Temp)) %&gt;% head()
</code></pre>

<pre><code>##    Ozone Temp
## 29    45   81
## 35    NA   84
## 36    NA   85
## 38    29   82
## 39    NA   87
## 40    71   90
</code></pre>

<pre><code class="r">subset(airquality, Day == 1, select = -Temp) %&gt;% head()
</code></pre>

<pre><code>##     Ozone Solar.R Wind Month Day
## 1      41     190  7.4     5   1
## 32     NA     286  8.6     6   1
## 62    135     269  4.1     7   1
## 93     39      83  6.9     8   1
## 124    96     167  6.9     9   1
</code></pre>

<pre><code class="r">subset(airquality, select = Ozone:Wind) %&gt;% head()
</code></pre>

<pre><code>##   Ozone Solar.R Wind
## 1    41     190  7.4
## 2    36     118  8.0
## 3    12     149 12.6
## 4    18     313 11.5
## 5    NA      NA 14.3
## 6    28      NA 14.9
</code></pre>

<pre><code class="r">#subset 也可以是逻辑值(T or F),对需要的行进行筛选
nm &lt;- rownames(state.x77)
subset(state.x77, grepl("^M", nm), Illiteracy:Murder)
</code></pre>

<pre><code>##               Illiteracy Life Exp Murder
## Maine                0.7    70.39    2.7
## Maryland             0.9    70.22    8.5
## Massachusetts        1.1    71.83    3.3
## Michigan             0.9    70.63   11.1
## Minnesota            0.6    72.96    2.3
## Mississippi          2.4    68.09   12.5
## Missouri             0.8    70.69    9.3
## Montana              0.6    70.56    5.0
</code></pre>

<hr />

<h3><code>with</code> &amp; <code>transform</code></h3>

<p>对现有数据中的的列进行处理</p>

<blockquote><p>dplyr包中有更为强大的mutate函数</p></blockquote>

<p>example</p>

<pre><code class="r">aq &lt;- within(airquality, {     # Notice that multiple vars can be changed
    lOzone &lt;- log(Ozone)
    Month &lt;- factor(month.abb[Month])
    cTemp &lt;- round((Temp - 32) * 5/9, 1) # From Fahrenheit to Celsius
    rm(Day, Temp)
})
head(aq)
</code></pre>

<pre><code>##   Ozone Solar.R Wind Month cTemp   lOzone
## 1    41     190  7.4   May  19.4 3.713572
## 2    36     118  8.0   May  22.2 3.583519
## 3    12     149 12.6   May  23.3 2.484907
## 4    18     313 11.5   May  16.7 2.890372
## 5    NA      NA 14.3   May  13.3       NA
## 6    28      NA 14.9   May  18.9 3.332205
</code></pre>

<pre><code class="r">head(airquality)
</code></pre>

<pre><code>##   Ozone Solar.R Wind Temp Month Day
## 1    41     190  7.4   67     5   1
## 2    36     118  8.0   72     5   2
## 3    12     149 12.6   74     5   3
## 4    18     313 11.5   62     5   4
## 5    NA      NA 14.3   56     5   5
## 6    28      NA 14.9   66     5   6
</code></pre>

<pre><code class="r">head(transform(airquality, Ozone = -Ozone))
</code></pre>

<pre><code>##   Ozone Solar.R Wind Temp Month Day
## 1   -41     190  7.4   67     5   1
## 2   -36     118  8.0   72     5   2
## 3   -12     149 12.6   74     5   3
## 4   -18     313 11.5   62     5   4
## 5    NA      NA 14.3   56     5   5
## 6   -28      NA 14.9   66     5   6
</code></pre>

<pre><code class="r">######
with(subset(ToothGrowth, supp == "VC"),
     boxplot(len ~ dose, boxwex = 0.25, at = 1:3 - 0.2,
             col = "yellow", main = "Guinea Pigs' Tooth Growth",
             xlab = "Vitamin C dose mg",
             ylab = "tooth length", ylim = c(0, 35)))
</code></pre>

<h2><img src="figure/unnamed-chunk-8-1.png" alt="plot of chunk unnamed-chunk-8" /> </h2>

<h3><code>assign</code></h3>

<p>为数值分配一个名字,解决为字符串赋值的问题,同时可以解决环境变量问题</p>

<p>example</p>

<pre><code class="r">for(i in 1:6) { #-- Create objects  'r.1', 'r.2', ... 'r.6' --
    nam &lt;- paste("r", i, sep = ".")
    assign(nam, 1:i) # r.1 到 r.6都被赋值
}
ls(pattern = "^r..$") # 正则表达式
</code></pre>

<pre><code>## [1] "r.1" "r.2" "r.3" "r.4" "r.5" "r.6"
</code></pre>

<pre><code class="r">a &lt;- 1:4
assign("a[1]", 2)  #为'a[1]'赋值为2,但是实际a[1]为1,需要通过get获得
a[1] == 2          # FALSE
</code></pre>

<pre><code>## [1] FALSE
</code></pre>

<pre><code class="r">get("a[1]") == 2   # TRUE
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

<hr />

<h3><code>get</code></h3>

<p>获得变量的值,可以是全局环境变量,也可以是其他环境变量(函数也属于变量)但需要envir参数进行限制.<code>assign</code>赋值的变量,可以通过<code>get</code>获得.</p>

<p>example</p>

<pre><code class="r">test &lt;- function(x){
  e1 &lt;&lt;- environment() # 获得当前变量
  a &lt;- 5 # 此处亦可以 assign('a',5) 对当前环境下变量进行赋值,a必须加引号
  b &lt;- a+x
  print(b)
}
test(2) # 执行函数
</code></pre>

<pre><code>## [1] 7
</code></pre>

<pre><code class="r">ls() # 全局环境中的变量
</code></pre>

<pre><code>##  [1] "%w/o%" "a"     "a[1]"  "aa"    "aq"    "b"     "bb"    "c"    
##  [9] "ci"    "e1"    "fit"   "i"     "li"    "ll"    "m"     "nam"  
## [17] "nm"    "nx"    "op"    "r.1"   "r.2"   "r.3"   "r.4"   "r.5"  
## [25] "r.6"   "sstr"  "test"  "tmp"   "x"     "y"     "z"
</code></pre>

<pre><code class="r">ls(envir = e1) # e2环境中的变量
</code></pre>

<pre><code>## [1] "a" "b" "x"
</code></pre>

<pre><code class="r">get('a', envir = e1) # 必须将变量用引号引起
</code></pre>

<pre><code>## [1] 5
</code></pre>

<hr />

<h2>Comparison</h2>

<h3><code>all.equal</code></h3>

<p>比较两个R对象是否相同,并返回报告, 可以通过 <code>tolerance</code> 调节差异的精确度</p>

<p>example</p>

<pre><code class="r">all.equal(pi, 355/113) 
</code></pre>

<pre><code>## [1] "Mean relative difference: 8.491368e-08"
</code></pre>

<pre><code class="r"># not precise enough (default tol) &gt; relative error

d45 &lt;- pi*(1/4 + 1:10)
stopifnot(
all.equal(tan(d45), rep(1, 10)))  # 误差允许范围内,认为是正确的
all      (tan(d45) == rep(1, 10)) # 错误,因为二者并非完全相等
</code></pre>

<pre><code>## [1] FALSE
</code></pre>

<pre><code class="r">all.equal(tan(d45), rep(1, 10), tolerance = 0)  # 将 容差设置为0,则为错
</code></pre>

<pre><code>## [1] "Mean relative difference: 1.29526e-15"
</code></pre>

<hr />

<h3>all &amp; any</h3>

<p> 判断给定的逻辑值,如果都为真,则<code>all</code>为真,<code>any</code>为真;有一者真则<code>any</code>为真,有一者假则<code>all</code>为假.</p>

<p>example</p>

<pre><code class="r">any(c(1==1, 2==3))  # T
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

<pre><code class="r">all(c(1==1, 2==2, 2==3))  # F
</code></pre>

<pre><code>## [1] FALSE
</code></pre>

<hr />

<h3>identical</h3>

<pre><code class="r">library(knitr)
knit('2014-12-30-advR_vocabulary.Rmd', output = 'F:/blog/_posts/2014-12-30-advR_vocabulary.md')
</code></pre>
 内容 -->


            <!-- <a href="/r/advR_vocabulary.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>



<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="http://cangfengzhe.github.io/img/">

            <h4 class="post-title" style=''><a style='' href="/r/funSet.html">R语言函数集合</a></h4>

            <p class="post-meta">By 12月26日  2014  
        <!--     <a
                    class="post-categorybut " href="/type/#r">r</a><a
                    class="post-category " > R</a><a
                    class="post-category " >  函数</a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#r">r</a><!-- <a
            class="post-category " href="/tag/#R"> R</a><a
            class="post-category " href="/tag/#函数">  函数</a> -->

            
           <a  class="post-category " title='标签' href="/tag/#R ">R</a>
    
           <a  class="post-category " title='标签' href="/tag/#函数 ">函数</a>
    
            </p>
        </header>

        <div class="post-description" >
            <!-- <h3>any</h3>

<pre><code class="r">range(x &lt;- sort(round(stats::rnorm(10) - 1.2, 1)))
</code></pre>

<pre><code>## [1] -3.7  0.3
</code></pre>

<pre><code class="r">if (any(x &lt; 0)) cat("x contains negative values\n")
</code></pre>

<pre><code>## x contains negative values
</code></pre>

<p>只要向量中有一个是正确的就返回True</p>

<h3>apply family</h3>

<p><code>apply(X, MARGIN, FUN, ...)</code>
X为array或matrix， MARGIN为数据下标，1表示行，2表示列，c(1,2) 表示行和列, 如果有行名和列名也可以使用</p>

<pre><code class="r">example(apply)
</code></pre>

<pre><code>## 
## apply&gt; ## Compute row and column sums for a matrix:
## apply&gt; x &lt;- cbind(x1 = 3, x2 = c(4:1, 2:5))
## 
## apply&gt; dimnames(x)[[1]] &lt;- letters[1:8]
## 
## apply&gt; apply(x, 2, mean, trim = .2)
## x1 x2 
##  3  3 
## 
## apply&gt; col.sums &lt;- apply(x, 2, sum)
## 
## apply&gt; row.sums &lt;- apply(x, 1, sum)
## 
## apply&gt; rbind(cbind(x, Rtot = row.sums), Ctot = c(col.sums, sum(col.sums)))
##      x1 x2 Rtot
## a     3  4    7
## b     3  3    6
## c     3  2    5
## d     3  1    4
## e     3  2    5
## f     3  3    6
## g     3  4    7
## h     3  5    8
## Ctot 24 24   48
## 
## apply&gt; stopifnot( apply(x, 2, is.vector))
## 
## apply&gt; ## Sort the columns of a matrix
## apply&gt; apply(x, 2, sort)
##      x1 x2
## [1,]  3  1
## [2,]  3  2
## [3,]  3  2
## [4,]  3  3
## [5,]  3  3
## [6,]  3  4
## [7,]  3  4
## [8,]  3  5
## 
## apply&gt; ##- function with extra args:
## apply&gt; cave &lt;- function(x, c1, c2) c(mean(x[c1]), mean(x[c2]))
## 
## apply&gt; apply(x, 1, cave,  c1 = "x1", c2 = c("x1","x2"))
##        a b   c d   e f   g h
## [1,] 3.0 3 3.0 3 3.0 3 3.0 3
## [2,] 3.5 3 2.5 2 2.5 3 3.5 4
## 
## apply&gt; ma &lt;- matrix(c(1:4, 1, 6:8), nrow = 2)
## 
## apply&gt; ma
##      [,1] [,2] [,3] [,4]
## [1,]    1    3    1    7
## [2,]    2    4    6    8
## 
## apply&gt; apply(ma, 1, table)  #--&gt; a list of length 2
## [[1]]
## 
## 1 3 7 
## 2 1 1 
## 
## [[2]]
## 
## 2 4 6 8 
## 1 1 1 1 
## 
## 
## apply&gt; apply(ma, 1, stats::quantile) # 5 x n matrix with rownames
##      [,1] [,2]
## 0%      1  2.0
## 25%     1  3.5
## 50%     2  5.0
## 75%     4  6.5
## 100%    7  8.0
## 
## apply&gt; stopifnot(dim(ma) == dim(apply(ma, 1:2, sum)))
## 
## apply&gt; ## Example with different lengths for each call
## apply&gt; z &lt;- array(1:24, dim = 2:4)
## 
## apply&gt; zseq &lt;- apply(z, 1:2, function(x) seq_len(max(x)))
## 
## apply&gt; zseq         ## a 2 x 3 matrix
##      [,1]       [,2]       [,3]      
## [1,] Integer,19 Integer,21 Integer,23
## [2,] Integer,20 Integer,22 Integer,24
## 
## apply&gt; typeof(zseq) ## list
## [1] "list"
## 
## apply&gt; dim(zseq) ## 2 3
## [1] 2 3
## 
## apply&gt; zseq[1,]
## [[1]]
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19
## 
## [[2]]
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21
## 
## [[3]]
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
## 
## 
## apply&gt; apply(z, 3, function(x) seq_len(max(x)))
## [[1]]
## [1] 1 2 3 4 5 6
## 
## [[2]]
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12
## 
## [[3]]
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18
## 
## [[4]]
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
## [24] 24
## 
## 
## apply&gt; # a list without a dim attribute
## apply&gt; 
## apply&gt; 
## apply&gt;
</code></pre>

<p><code>lapply(X, FUN, ...)</code>
返回list，可以用 <code>do.call('cbind',output)</code> 合并为data.frame</p>

<p><code>sapply(X, FUN, ..., simplify = TRUE, USE.NAMES = TRUE)</code>
simplify=T 输出matrix，F输出list(相当于lapply)</p>

<p><code>vapply(X, FUN, FUN.VALUE, ..., USE.NAMES = TRUE)</code>
FUN.VALUE定义输出的结果</p>

<p><code>mapply(FUN, ..., MoreArgs = NULL, SIMPLIFY = TRUE, USE.NAMES = TRUE)</code>
函数为第一个参数，其他函数（都可以是变量）随后输入，返回list</p>

<p>example</p>

<pre><code class="r">word &lt;- function(C, k) paste(rep.int(C, k), collapse = "")
utils::str(mapply(word, LETTERS[1:6], 6:1, SIMPLIFY = FALSE))
</code></pre>

<pre><code>## List of 6
##  $ A: chr "AAAAAA"
##  $ B: chr "BBBBB"
##  $ C: chr "CCCC"
##  $ D: chr "DDD"
##  $ E: chr "EE"
##  $ F: chr "F"
</code></pre>

<p><code>X</code> 为列表或向量，如果为矩阵会强制转换为list，表示调用函数的第一个参数；
<code>FUN</code> 函数
<code>...</code> 表示函数的其他参数，可以依次添加
<code>USE.NAMES</code> 上面的参数<code>...</code>如果使用了字符串，那么这个字符串将作为输出结果过的行名。</p>

<h3>identical</h3>

<p><code>identical(x, y, num.eq = TRUE, single.NA = TRUE, attrib.as.set = TRUE,          ignore.bytecode = TRUE, ignore.environment = FALSE)</code>
判断x，y是否相同（数值，类型）</p>

<h3>reduce</h3>

<p><code>Reduce(f, x, init, right = FALSE, accumulate = FALSE)</code>
迭代函数,f为函数，x为vector, 先对vector前两项进行处理，随后的结果和第三项进行运算，依次迭代</p>

<pre><code class="r">Reduce('+', 1:10)
</code></pre>

<pre><code>## [1] 55
</code></pre>

<h3>Filter</h3>

<p><code>Filter(f, x)</code>
采用f函数对x进行处理，返回结果正确的数值
dplyr中的函数filter效率更高</p>

<pre><code class="r">Filter(function(x){x%%2==0}, 1:10)
</code></pre>

<pre><code>## [1]  2  4  6  8 10
</code></pre>

<pre><code class="r"> ctrl+alt+I insert chunk
</code></pre>

<h3>melt</h3>

<pre><code class="r">melt(data, id.vars, measure.vars,
  variable.name = "variable", ..., na.rm = FALSE, value.name = "value",
  factorsAsStrings = TRUE)
</code></pre>

<p>id.vars 表示固定不变的列
measure.vars 控制变量,只显示的行
variable.name 重塑后控制变量的列名
value.name 重塑后数值变量的列名</p>

<blockquote><p>如果data为matrix格式，则不执行上述标准，变成行列的对应值</p></blockquote>

<h3>cast</h3>

<h3>gc</h3>

<p>用于垃圾回收</p>
 内容 -->


            <!-- <a href="/r/funSet.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>



<style>	
h4.post-title  :hover{
    
    color:rgb(28, 84, 97);
    text-decoration: none;
}</style>
    <section class="post" style='padding-bottom:0;margin:0'>
        <header class="post-header">
            <img class="post-avatar" height="48" width="48"
                 src="">

            <h4 class="post-title" style=''><a style='' href="/%E9%9A%8F%E7%AC%94/New-Blog-Sytle.html">Jekyll主题</a></h4>

            <p class="post-meta">By 12月13日  2014  
        <!--     <a
                    class="post-categorybut " href="/type/#随笔">随笔</a><a
                    class="post-category " > Jekyll</a><a
                    class="post-category " >  </a> -->
                <!-- 只显示一个类型，多个标签 -->
                    <a
            class="post-categorybut " title='分类' href="/type/#随笔">随笔</a><!-- <a
            class="post-category " href="/tag/#Jekyll"> Jekyll</a><a
            class="post-category " href="/tag/#">  </a> -->

            
           <a  class="post-category " title='标签' href="/tag/#Jekyll ">Jekyll</a>
    
            </p>
        </header>

        <div class="post-description" >
            <!-- <h3>我的新博客</h3>

<p>一二三级标题可以在目录中添加</p>
 内容 -->


            <!-- <a href="/%E9%9A%8F%E7%AC%94/New-Blog-Sytle.html" class="post-categorybut">阅读全文</a> -->
        </div>
    </section>


<div class="pure-g pagination">
    
    
    <a class="pure-u-1-2 pagination-item" href="/"><p>Newer</p></a>
    
    


    
    <a class=" pure-u-1-2 pagination-item" href="/page/3"><p>Older</p></a>
    
</div>








            </div>
            </div>
        <div class="footer">
                <!-- <a href="/love/welcome-my-blog.html">About</a>
                 <a href="/1">Collecting</a>
                <a href="tencent://message/?uin=78956287">QQ</a> -->
                <a href="https://github.com/cangfengzhe">GitHub</a>
            <script src="/js/min/nprogress.min.js"></script>
            <script src="/js/index.js"></script>
        </div>
        <div class="topfade"><a href="javascript:;" title="返回顶部"></a></div>

    </div>

</div>
	<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>

</html>
